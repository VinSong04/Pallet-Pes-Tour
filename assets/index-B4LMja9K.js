function ky(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ty(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vf={exports:{}},To={},_f={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ws=Symbol.for("react.element"),Iy=Symbol.for("react.portal"),Py=Symbol.for("react.fragment"),Ry=Symbol.for("react.strict_mode"),jy=Symbol.for("react.profiler"),Ay=Symbol.for("react.provider"),Dy=Symbol.for("react.context"),Ly=Symbol.for("react.forward_ref"),My=Symbol.for("react.suspense"),Oy=Symbol.for("react.memo"),by=Symbol.for("react.lazy"),$c=Symbol.iterator;function Fy(t){return t===null||typeof t!="object"?null:(t=$c&&t[$c]||t["@@iterator"],typeof t=="function"?t:null)}var wf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xf=Object.assign,Sf={};function Er(t,e,n){this.props=t,this.context=e,this.refs=Sf,this.updater=n||wf}Er.prototype.isReactComponent={};Er.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Er.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cf(){}Cf.prototype=Er.prototype;function fu(t,e,n){this.props=t,this.context=e,this.refs=Sf,this.updater=n||wf}var pu=fu.prototype=new Cf;pu.constructor=fu;xf(pu,Er.prototype);pu.isPureReactComponent=!0;var Qc=Array.isArray,Ef=Object.prototype.hasOwnProperty,mu={current:null},Nf={key:!0,ref:!0,__self:!0,__source:!0};function kf(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ef.call(e,r)&&!Nf.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ws,type:t,key:i,ref:o,props:s,_owner:mu.current}}function Gy(t,e){return{$$typeof:Ws,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ws}function zy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kc=/\/+/g;function ul(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zy(""+t.key):e.toString(36)}function Ci(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ws:case Iy:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ul(o,0):r,Qc(s)?(n="",t!=null&&(n=t.replace(Kc,"$&/")+"/"),Ci(s,e,n,"",function(c){return c})):s!=null&&(gu(s)&&(s=Gy(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Kc,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Qc(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+ul(i,l);o+=Ci(i,e,n,a,s)}else if(a=Fy(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+ul(i,l++),o+=Ci(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function si(t,e,n){if(t==null)return t;var r=[],s=0;return Ci(t,r,"","",function(i){return e.call(n,i,s++)}),r}function By(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ae={current:null},Ei={transition:null},Wy={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Ei,ReactCurrentOwner:mu};function Tf(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:si,forEach:function(t,e,n){si(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return si(t,function(){e++}),e},toArray:function(t){return si(t,function(e){return e})||[]},only:function(t){if(!gu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=Er;F.Fragment=Py;F.Profiler=jy;F.PureComponent=fu;F.StrictMode=Ry;F.Suspense=My;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wy;F.act=Tf;F.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xf({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=mu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Ef.call(e,a)&&!Nf.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ws,type:t.type,key:s,ref:i,props:r,_owner:o}};F.createContext=function(t){return t={$$typeof:Dy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ay,_context:t},t.Consumer=t};F.createElement=kf;F.createFactory=function(t){var e=kf.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:Ly,render:t}};F.isValidElement=gu;F.lazy=function(t){return{$$typeof:by,_payload:{_status:-1,_result:t},_init:By}};F.memo=function(t,e){return{$$typeof:Oy,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=Ei.transition;Ei.transition={};try{t()}finally{Ei.transition=e}};F.unstable_act=Tf;F.useCallback=function(t,e){return Ae.current.useCallback(t,e)};F.useContext=function(t){return Ae.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return Ae.current.useDeferredValue(t)};F.useEffect=function(t,e){return Ae.current.useEffect(t,e)};F.useId=function(){return Ae.current.useId()};F.useImperativeHandle=function(t,e,n){return Ae.current.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return Ae.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return Ae.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return Ae.current.useMemo(t,e)};F.useReducer=function(t,e,n){return Ae.current.useReducer(t,e,n)};F.useRef=function(t){return Ae.current.useRef(t)};F.useState=function(t){return Ae.current.useState(t)};F.useSyncExternalStore=function(t,e,n){return Ae.current.useSyncExternalStore(t,e,n)};F.useTransition=function(){return Ae.current.useTransition()};F.version="18.3.1";_f.exports=F;var S=_f.exports;const If=Ty(S),Uy=ky({__proto__:null,default:If},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy=S,Hy=Symbol.for("react.element"),$y=Symbol.for("react.fragment"),Qy=Object.prototype.hasOwnProperty,Ky=Vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yy={key:!0,ref:!0,__self:!0,__source:!0};function Pf(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Qy.call(e,r)&&!Yy.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Hy,type:t,key:i,ref:o,props:s,_owner:Ky.current}}To.Fragment=$y;To.jsx=Pf;To.jsxs=Pf;vf.exports=To;var u=vf.exports,ql={},Rf={exports:{}},$e={},jf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,D){var L=I.length;I.push(D);e:for(;0<L;){var re=L-1>>>1,de=I[re];if(0<s(de,D))I[re]=D,I[L]=de,L=re;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var D=I[0],L=I.pop();if(L!==D){I[0]=L;e:for(var re=0,de=I.length,ni=de>>>1;re<ni;){var fn=2*(re+1)-1,al=I[fn],pn=fn+1,ri=I[pn];if(0>s(al,L))pn<de&&0>s(ri,al)?(I[re]=ri,I[pn]=L,re=pn):(I[re]=al,I[fn]=L,re=fn);else if(pn<de&&0>s(ri,L))I[re]=ri,I[pn]=L,re=pn;else break e}}return D}function s(I,D){var L=I.sortIndex-D.sortIndex;return L!==0?L:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],h=1,d=null,f=3,y=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=I)r(c),D.sortIndex=D.expirationTime,e(a,D);else break;D=n(c)}}function w(I){if(_=!1,g(I),!v)if(n(a)!==null)v=!0,ye(E);else{var D=n(c);D!==null&&Lr(w,D.startTime-I)}}function E(I,D){v=!1,_&&(_=!1,m(R),R=-1),y=!0;var L=f;try{for(g(D),d=n(a);d!==null&&(!(d.expirationTime>D)||I&&!xe());){var re=d.callback;if(typeof re=="function"){d.callback=null,f=d.priorityLevel;var de=re(d.expirationTime<=D);D=t.unstable_now(),typeof de=="function"?d.callback=de:d===n(a)&&r(a),g(D)}else r(a);d=n(a)}if(d!==null)var ni=!0;else{var fn=n(c);fn!==null&&Lr(w,fn.startTime-D),ni=!1}return ni}finally{d=null,f=L,y=!1}}var k=!1,P=null,R=-1,U=5,A=-1;function xe(){return!(t.unstable_now()-A<U)}function ce(){if(P!==null){var I=t.unstable_now();A=I;var D=!0;try{D=P(!0,I)}finally{D?Te():(k=!1,P=null)}}else k=!1}var Te;if(typeof p=="function")Te=function(){p(ce)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,Lt=Dt.port2;Dt.port1.onmessage=ce,Te=function(){Lt.postMessage(null)}}else Te=function(){x(ce,0)};function ye(I){P=I,k||(k=!0,Te())}function Lr(I,D){R=x(function(){I(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,ye(E))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var L=f;f=D;try{return I()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var L=f;f=I;try{return D()}finally{f=L}},t.unstable_scheduleCallback=function(I,D,L){var re=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?re+L:re):L=re,I){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=L+de,I={id:h++,callback:D,priorityLevel:I,startTime:L,expirationTime:de,sortIndex:-1},L>re?(I.sortIndex=L,e(c,I),n(a)===null&&I===n(c)&&(_?(m(R),R=-1):_=!0,Lr(w,L-re))):(I.sortIndex=de,e(a,I),v||y||(v=!0,ye(E))),I},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(I){var D=f;return function(){var L=f;f=D;try{return I.apply(this,arguments)}finally{f=L}}}})(Af);jf.exports=Af;var qy=jf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=S,He=qy;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Df=new Set,hs={};function Ln(t,e){hr(t,e),hr(t+"Capture",e)}function hr(t,e){for(hs[t]=e,t=0;t<e.length;t++)Df.add(e[t])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xl=Object.prototype.hasOwnProperty,Jy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yc={},qc={};function Zy(t){return Xl.call(qc,t)?!0:Xl.call(Yc,t)?!1:Jy.test(t)?qc[t]=!0:(Yc[t]=!0,!1)}function ev(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tv(t,e,n,r){if(e===null||typeof e>"u"||ev(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function De(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){we[t]=new De(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];we[e]=new De(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){we[t]=new De(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){we[t]=new De(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){we[t]=new De(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){we[t]=new De(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){we[t]=new De(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){we[t]=new De(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){we[t]=new De(t,5,!1,t.toLowerCase(),null,!1,!1)});var yu=/[\-:]([a-z])/g;function vu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yu,vu);we[e]=new De(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yu,vu);we[e]=new De(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yu,vu);we[e]=new De(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){we[t]=new De(t,1,!1,t.toLowerCase(),null,!1,!1)});we.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){we[t]=new De(t,1,!1,t.toLowerCase(),null,!0,!0)});function _u(t,e,n,r){var s=we.hasOwnProperty(e)?we[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tv(e,n,s,r)&&(n=null),r||s===null?Zy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Rt=Xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ii=Symbol.for("react.element"),Vn=Symbol.for("react.portal"),Hn=Symbol.for("react.fragment"),wu=Symbol.for("react.strict_mode"),Jl=Symbol.for("react.profiler"),Lf=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),xu=Symbol.for("react.forward_ref"),Zl=Symbol.for("react.suspense"),ea=Symbol.for("react.suspense_list"),Su=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Of=Symbol.for("react.offscreen"),Xc=Symbol.iterator;function Mr(t){return t===null||typeof t!="object"?null:(t=Xc&&t[Xc]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,cl;function Qr(t){if(cl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cl=e&&e[1]||""}return`
`+cl+t}var dl=!1;function hl(t,e){if(!t||dl)return"";dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{dl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qr(t):""}function nv(t){switch(t.tag){case 5:return Qr(t.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 2:case 15:return t=hl(t.type,!1),t;case 11:return t=hl(t.type.render,!1),t;case 1:return t=hl(t.type,!0),t;default:return""}}function ta(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hn:return"Fragment";case Vn:return"Portal";case Jl:return"Profiler";case wu:return"StrictMode";case Zl:return"Suspense";case ea:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mf:return(t.displayName||"Context")+".Consumer";case Lf:return(t._context.displayName||"Context")+".Provider";case xu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Su:return e=t.displayName||null,e!==null?e:ta(t.type)||"Memo";case Ot:e=t._payload,t=t._init;try{return ta(t(e))}catch{}}return null}function rv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ta(e);case 8:return e===wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sv(t){var e=bf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function oi(t){t._valueTracker||(t._valueTracker=sv(t))}function Ff(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function na(t,e){var n=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gf(t,e){e=e.checked,e!=null&&_u(t,"checked",e,!1)}function ra(t,e){Gf(t,e);var n=nn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sa(t,e.type,n):e.hasOwnProperty("defaultValue")&&sa(t,e.type,nn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sa(t,e,n){(e!=="number"||Oi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kr=Array.isArray;function rr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ia(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ed(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(Kr(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nn(n)}}function zf(t,e){var n=nn(e.value),r=nn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function td(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var li,Wf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(li=li||document.createElement("div"),li.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=li.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iv=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(t){iv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xr[e]=Xr[t]})});function Uf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xr.hasOwnProperty(t)&&Xr[t]?(""+e).trim():e+"px"}function Vf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Uf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ov=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(t,e){if(e){if(ov[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function aa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ua=null;function Cu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ca=null,sr=null,ir=null;function nd(t){if(t=Hs(t)){if(typeof ca!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Ao(e),ca(t.stateNode,t.type,e))}}function Hf(t){sr?ir?ir.push(t):ir=[t]:sr=t}function $f(){if(sr){var t=sr,e=ir;if(ir=sr=null,nd(t),e)for(t=0;t<e.length;t++)nd(e[t])}}function Qf(t,e){return t(e)}function Kf(){}var fl=!1;function Yf(t,e,n){if(fl)return t(e,n);fl=!0;try{return Qf(t,e,n)}finally{fl=!1,(sr!==null||ir!==null)&&(Kf(),$f())}}function ps(t,e){var n=t.stateNode;if(n===null)return null;var r=Ao(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var da=!1;if(Et)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){da=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{da=!1}function lv(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Jr=!1,bi=null,Fi=!1,ha=null,av={onError:function(t){Jr=!0,bi=t}};function uv(t,e,n,r,s,i,o,l,a){Jr=!1,bi=null,lv.apply(av,arguments)}function cv(t,e,n,r,s,i,o,l,a){if(uv.apply(this,arguments),Jr){if(Jr){var c=bi;Jr=!1,bi=null}else throw Error(C(198));Fi||(Fi=!0,ha=c)}}function Mn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rd(t){if(Mn(t)!==t)throw Error(C(188))}function dv(t){var e=t.alternate;if(!e){if(e=Mn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return rd(s),t;if(i===r)return rd(s),e;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function Xf(t){return t=dv(t),t!==null?Jf(t):null}function Jf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jf(t);if(e!==null)return e;t=t.sibling}return null}var Zf=He.unstable_scheduleCallback,sd=He.unstable_cancelCallback,hv=He.unstable_shouldYield,fv=He.unstable_requestPaint,se=He.unstable_now,pv=He.unstable_getCurrentPriorityLevel,Eu=He.unstable_ImmediatePriority,ep=He.unstable_UserBlockingPriority,Gi=He.unstable_NormalPriority,mv=He.unstable_LowPriority,tp=He.unstable_IdlePriority,Io=null,pt=null;function gv(t){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Io,t,void 0,(t.current.flags&128)===128)}catch{}}var lt=Math.clz32?Math.clz32:_v,yv=Math.log,vv=Math.LN2;function _v(t){return t>>>=0,t===0?32:31-(yv(t)/vv|0)|0}var ai=64,ui=4194304;function Yr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Yr(l):(i&=o,i!==0&&(r=Yr(i)))}else o=n&~s,o!==0?r=Yr(o):i!==0&&(r=Yr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lt(e),s=1<<n,r|=t[n],e&=~s;return r}function wv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-lt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=wv(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function fa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function np(){var t=ai;return ai<<=1,!(ai&4194240)&&(ai=64),t}function pl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Us(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lt(e),t[e]=n}function Sv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-lt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Nu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var B=0;function rp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sp,ku,ip,op,lp,pa=!1,ci=[],Ut=null,Vt=null,Ht=null,ms=new Map,gs=new Map,Ft=[],Cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(t,e){switch(t){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(e.pointerId)}}function br(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Hs(e),e!==null&&ku(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ev(t,e,n,r,s){switch(e){case"focusin":return Ut=br(Ut,t,e,n,r,s),!0;case"dragenter":return Vt=br(Vt,t,e,n,r,s),!0;case"mouseover":return Ht=br(Ht,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ms.set(i,br(ms.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gs.set(i,br(gs.get(i)||null,t,e,n,r,s)),!0}return!1}function ap(t){var e=_n(t.target);if(e!==null){var n=Mn(e);if(n!==null){if(e=n.tag,e===13){if(e=qf(n),e!==null){t.blockedOn=e,lp(t.priority,function(){ip(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ni(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ma(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ua=r,n.target.dispatchEvent(r),ua=null}else return e=Hs(n),e!==null&&ku(e),t.blockedOn=n,!1;e.shift()}return!0}function od(t,e,n){Ni(t)&&n.delete(e)}function Nv(){pa=!1,Ut!==null&&Ni(Ut)&&(Ut=null),Vt!==null&&Ni(Vt)&&(Vt=null),Ht!==null&&Ni(Ht)&&(Ht=null),ms.forEach(od),gs.forEach(od)}function Fr(t,e){t.blockedOn===e&&(t.blockedOn=null,pa||(pa=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Nv)))}function ys(t){function e(s){return Fr(s,t)}if(0<ci.length){Fr(ci[0],t);for(var n=1;n<ci.length;n++){var r=ci[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ut!==null&&Fr(Ut,t),Vt!==null&&Fr(Vt,t),Ht!==null&&Fr(Ht,t),ms.forEach(e),gs.forEach(e),n=0;n<Ft.length;n++)r=Ft[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ft.length&&(n=Ft[0],n.blockedOn===null);)ap(n),n.blockedOn===null&&Ft.shift()}var or=Rt.ReactCurrentBatchConfig,Bi=!0;function kv(t,e,n,r){var s=B,i=or.transition;or.transition=null;try{B=1,Tu(t,e,n,r)}finally{B=s,or.transition=i}}function Tv(t,e,n,r){var s=B,i=or.transition;or.transition=null;try{B=4,Tu(t,e,n,r)}finally{B=s,or.transition=i}}function Tu(t,e,n,r){if(Bi){var s=ma(t,e,n,r);if(s===null)El(t,e,r,Wi,n),id(t,r);else if(Ev(s,t,e,n,r))r.stopPropagation();else if(id(t,r),e&4&&-1<Cv.indexOf(t)){for(;s!==null;){var i=Hs(s);if(i!==null&&sp(i),i=ma(t,e,n,r),i===null&&El(t,e,r,Wi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else El(t,e,r,null,n)}}var Wi=null;function ma(t,e,n,r){if(Wi=null,t=Cu(r),t=_n(t),t!==null)if(e=Mn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wi=t,null}function up(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pv()){case Eu:return 1;case ep:return 4;case Gi:case mv:return 16;case tp:return 536870912;default:return 16}default:return 16}}var zt=null,Iu=null,ki=null;function cp(){if(ki)return ki;var t,e=Iu,n=e.length,r,s="value"in zt?zt.value:zt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ki=s.slice(t,1<r?1-r:void 0)}function Ti(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function di(){return!0}function ld(){return!1}function Qe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?di:ld,this.isPropagationStopped=ld,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),e}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pu=Qe(Nr),Vs=Z({},Nr,{view:0,detail:0}),Iv=Qe(Vs),ml,gl,Gr,Po=Z({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gr&&(Gr&&t.type==="mousemove"?(ml=t.screenX-Gr.screenX,gl=t.screenY-Gr.screenY):gl=ml=0,Gr=t),ml)},movementY:function(t){return"movementY"in t?t.movementY:gl}}),ad=Qe(Po),Pv=Z({},Po,{dataTransfer:0}),Rv=Qe(Pv),jv=Z({},Vs,{relatedTarget:0}),yl=Qe(jv),Av=Z({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dv=Qe(Av),Lv=Z({},Nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mv=Qe(Lv),Ov=Z({},Nr,{data:0}),ud=Qe(Ov),bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gv[t])?!!e[t]:!1}function Ru(){return zv}var Bv=Z({},Vs,{key:function(t){if(t.key){var e=bv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(t){return t.type==="keypress"?Ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wv=Qe(Bv),Uv=Z({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=Qe(Uv),Vv=Z({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),Hv=Qe(Vv),$v=Z({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qv=Qe($v),Kv=Z({},Po,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yv=Qe(Kv),qv=[9,13,27,32],ju=Et&&"CompositionEvent"in window,Zr=null;Et&&"documentMode"in document&&(Zr=document.documentMode);var Xv=Et&&"TextEvent"in window&&!Zr,dp=Et&&(!ju||Zr&&8<Zr&&11>=Zr),dd=" ",hd=!1;function hp(t,e){switch(t){case"keyup":return qv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $n=!1;function Jv(t,e){switch(t){case"compositionend":return fp(e);case"keypress":return e.which!==32?null:(hd=!0,dd);case"textInput":return t=e.data,t===dd&&hd?null:t;default:return null}}function Zv(t,e){if($n)return t==="compositionend"||!ju&&hp(t,e)?(t=cp(),ki=Iu=zt=null,$n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dp&&e.locale!=="ko"?null:e.data;default:return null}}var e_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!e_[t.type]:e==="textarea"}function pp(t,e,n,r){Hf(r),e=Ui(e,"onChange"),0<e.length&&(n=new Pu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var es=null,vs=null;function t_(t){Np(t,0)}function Ro(t){var e=Yn(t);if(Ff(e))return t}function n_(t,e){if(t==="change")return e}var mp=!1;if(Et){var vl;if(Et){var _l="oninput"in document;if(!_l){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),_l=typeof pd.oninput=="function"}vl=_l}else vl=!1;mp=vl&&(!document.documentMode||9<document.documentMode)}function md(){es&&(es.detachEvent("onpropertychange",gp),vs=es=null)}function gp(t){if(t.propertyName==="value"&&Ro(vs)){var e=[];pp(e,vs,t,Cu(t)),Yf(t_,e)}}function r_(t,e,n){t==="focusin"?(md(),es=e,vs=n,es.attachEvent("onpropertychange",gp)):t==="focusout"&&md()}function s_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ro(vs)}function i_(t,e){if(t==="click")return Ro(e)}function o_(t,e){if(t==="input"||t==="change")return Ro(e)}function l_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ct=typeof Object.is=="function"?Object.is:l_;function _s(t,e){if(ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xl.call(e,s)||!ct(t[s],e[s]))return!1}return!0}function gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yd(t,e){var n=gd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gd(n)}}function yp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vp(){for(var t=window,e=Oi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Oi(t.document)}return e}function Au(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a_(t){var e=vp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yp(n.ownerDocument.documentElement,n)){if(r!==null&&Au(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=yd(n,i);var o=yd(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var u_=Et&&"documentMode"in document&&11>=document.documentMode,Qn=null,ga=null,ts=null,ya=!1;function vd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ya||Qn==null||Qn!==Oi(r)||(r=Qn,"selectionStart"in r&&Au(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ts&&_s(ts,r)||(ts=r,r=Ui(ga,"onSelect"),0<r.length&&(e=new Pu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qn)))}function hi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kn={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},wl={},_p={};Et&&(_p=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function jo(t){if(wl[t])return wl[t];if(!Kn[t])return t;var e=Kn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _p)return wl[t]=e[n];return t}var wp=jo("animationend"),xp=jo("animationiteration"),Sp=jo("animationstart"),Cp=jo("transitionend"),Ep=new Map,_d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(t,e){Ep.set(t,e),Ln(e,[t])}for(var xl=0;xl<_d.length;xl++){var Sl=_d[xl],c_=Sl.toLowerCase(),d_=Sl[0].toUpperCase()+Sl.slice(1);un(c_,"on"+d_)}un(wp,"onAnimationEnd");un(xp,"onAnimationIteration");un(Sp,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(Cp,"onTransitionEnd");hr("onMouseEnter",["mouseout","mouseover"]);hr("onMouseLeave",["mouseout","mouseover"]);hr("onPointerEnter",["pointerout","pointerover"]);hr("onPointerLeave",["pointerout","pointerover"]);Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h_=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function wd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cv(r,e,void 0,t),t.currentTarget=null}function Np(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;wd(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;wd(s,l,c),i=a}}}if(Fi)throw t=ha,Fi=!1,ha=null,t}function Q(t,e){var n=e[Sa];n===void 0&&(n=e[Sa]=new Set);var r=t+"__bubble";n.has(r)||(kp(e,t,2,!1),n.add(r))}function Cl(t,e,n){var r=0;e&&(r|=4),kp(n,t,r,e)}var fi="_reactListening"+Math.random().toString(36).slice(2);function ws(t){if(!t[fi]){t[fi]=!0,Df.forEach(function(n){n!=="selectionchange"&&(h_.has(n)||Cl(n,!1,t),Cl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fi]||(e[fi]=!0,Cl("selectionchange",!1,e))}}function kp(t,e,n,r){switch(up(e)){case 1:var s=kv;break;case 4:s=Tv;break;default:s=Tu}n=s.bind(null,e,n,t),s=void 0,!da||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function El(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=_n(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Yf(function(){var c=i,h=Cu(n),d=[];e:{var f=Ep.get(t);if(f!==void 0){var y=Pu,v=t;switch(t){case"keypress":if(Ti(n)===0)break e;case"keydown":case"keyup":y=Wv;break;case"focusin":v="focus",y=yl;break;case"focusout":v="blur",y=yl;break;case"beforeblur":case"afterblur":y=yl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Rv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Hv;break;case wp:case xp:case Sp:y=Dv;break;case Cp:y=Qv;break;case"scroll":y=Iv;break;case"wheel":y=Yv;break;case"copy":case"cut":case"paste":y=Mv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=cd}var _=(e&4)!==0,x=!_&&t==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var p=c,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=ps(p,m),w!=null&&_.push(xs(p,w,g)))),x)break;p=p.return}0<_.length&&(f=new y(f,v,null,n,h),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==ua&&(v=n.relatedTarget||n.fromElement)&&(_n(v)||v[Nt]))break e;if((y||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=c,v=v?_n(v):null,v!==null&&(x=Mn(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(_=ad,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=cd,w="onPointerLeave",m="onPointerEnter",p="pointer"),x=y==null?f:Yn(y),g=v==null?f:Yn(v),f=new _(w,p+"leave",y,n,h),f.target=x,f.relatedTarget=g,w=null,_n(h)===c&&(_=new _(m,p+"enter",v,n,h),_.target=g,_.relatedTarget=x,w=_),x=w,y&&v)t:{for(_=y,m=v,p=0,g=_;g;g=Gn(g))p++;for(g=0,w=m;w;w=Gn(w))g++;for(;0<p-g;)_=Gn(_),p--;for(;0<g-p;)m=Gn(m),g--;for(;p--;){if(_===m||m!==null&&_===m.alternate)break t;_=Gn(_),m=Gn(m)}_=null}else _=null;y!==null&&xd(d,f,y,_,!1),v!==null&&x!==null&&xd(d,x,v,_,!0)}}e:{if(f=c?Yn(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var E=n_;else if(fd(f))if(mp)E=o_;else{E=s_;var k=r_}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=i_);if(E&&(E=E(t,c))){pp(d,E,n,h);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&sa(f,"number",f.value)}switch(k=c?Yn(c):window,t){case"focusin":(fd(k)||k.contentEditable==="true")&&(Qn=k,ga=c,ts=null);break;case"focusout":ts=ga=Qn=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,vd(d,n,h);break;case"selectionchange":if(u_)break;case"keydown":case"keyup":vd(d,n,h)}var P;if(ju)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else $n?hp(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(dp&&n.locale!=="ko"&&($n||R!=="onCompositionStart"?R==="onCompositionEnd"&&$n&&(P=cp()):(zt=h,Iu="value"in zt?zt.value:zt.textContent,$n=!0)),k=Ui(c,R),0<k.length&&(R=new ud(R,t,null,n,h),d.push({event:R,listeners:k}),P?R.data=P:(P=fp(n),P!==null&&(R.data=P)))),(P=Xv?Jv(t,n):Zv(t,n))&&(c=Ui(c,"onBeforeInput"),0<c.length&&(h=new ud("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=P))}Np(d,e)})}function xs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ui(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ps(t,n),i!=null&&r.unshift(xs(t,i,s)),i=ps(t,e),i!=null&&r.push(xs(t,i,s))),t=t.return}return r}function Gn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xd(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=ps(n,i),a!=null&&o.unshift(xs(n,a,l))):s||(a=ps(n,i),a!=null&&o.push(xs(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var f_=/\r\n?/g,p_=/\u0000|\uFFFD/g;function Sd(t){return(typeof t=="string"?t:""+t).replace(f_,`
`).replace(p_,"")}function pi(t,e,n){if(e=Sd(e),Sd(t)!==e&&n)throw Error(C(425))}function Vi(){}var va=null,_a=null;function wa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,m_=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,g_=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(t){return Cd.resolve(null).then(t).catch(y_)}:xa;function y_(t){setTimeout(function(){throw t})}function Nl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ys(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ys(e)}function $t(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ed(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var kr=Math.random().toString(36).slice(2),ft="__reactFiber$"+kr,Ss="__reactProps$"+kr,Nt="__reactContainer$"+kr,Sa="__reactEvents$"+kr,v_="__reactListeners$"+kr,__="__reactHandles$"+kr;function _n(t){var e=t[ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nt]||n[ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ed(t);t!==null;){if(n=t[ft])return n;t=Ed(t)}return e}t=n,n=t.parentNode}return null}function Hs(t){return t=t[ft]||t[Nt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Ao(t){return t[Ss]||null}var Ca=[],qn=-1;function cn(t){return{current:t}}function Y(t){0>qn||(t.current=Ca[qn],Ca[qn]=null,qn--)}function $(t,e){qn++,Ca[qn]=t.current,t.current=e}var rn={},ke=cn(rn),be=cn(!1),kn=rn;function fr(t,e){var n=t.type.contextTypes;if(!n)return rn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(t){return t=t.childContextTypes,t!=null}function Hi(){Y(be),Y(ke)}function Nd(t,e,n){if(ke.current!==rn)throw Error(C(168));$(ke,e),$(be,n)}function Tp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(C(108,rv(t)||"Unknown",s));return Z({},n,r)}function $i(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rn,kn=ke.current,$(ke,t),$(be,be.current),!0}function kd(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=Tp(t,e,kn),r.__reactInternalMemoizedMergedChildContext=t,Y(be),Y(ke),$(ke,t)):Y(be),$(be,n)}var vt=null,Do=!1,kl=!1;function Ip(t){vt===null?vt=[t]:vt.push(t)}function w_(t){Do=!0,Ip(t)}function dn(){if(!kl&&vt!==null){kl=!0;var t=0,e=B;try{var n=vt;for(B=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vt=null,Do=!1}catch(s){throw vt!==null&&(vt=vt.slice(t+1)),Zf(Eu,dn),s}finally{B=e,kl=!1}}return null}var Xn=[],Jn=0,Qi=null,Ki=0,Ke=[],Ye=0,Tn=null,_t=1,wt="";function mn(t,e){Xn[Jn++]=Ki,Xn[Jn++]=Qi,Qi=t,Ki=e}function Pp(t,e,n){Ke[Ye++]=_t,Ke[Ye++]=wt,Ke[Ye++]=Tn,Tn=t;var r=_t;t=wt;var s=32-lt(r)-1;r&=~(1<<s),n+=1;var i=32-lt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_t=1<<32-lt(e)+s|n<<s|r,wt=i+t}else _t=1<<i|n<<s|r,wt=t}function Du(t){t.return!==null&&(mn(t,1),Pp(t,1,0))}function Lu(t){for(;t===Qi;)Qi=Xn[--Jn],Xn[Jn]=null,Ki=Xn[--Jn],Xn[Jn]=null;for(;t===Tn;)Tn=Ke[--Ye],Ke[Ye]=null,wt=Ke[--Ye],Ke[Ye]=null,_t=Ke[--Ye],Ke[Ye]=null}var Ve=null,Ue=null,q=!1,rt=null;function Rp(t,e){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Td(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ve=t,Ue=$t(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ve=t,Ue=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Tn!==null?{id:_t,overflow:wt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ve=t,Ue=null,!0):!1;default:return!1}}function Ea(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Na(t){if(q){var e=Ue;if(e){var n=e;if(!Td(t,e)){if(Ea(t))throw Error(C(418));e=$t(n.nextSibling);var r=Ve;e&&Td(t,e)?Rp(r,n):(t.flags=t.flags&-4097|2,q=!1,Ve=t)}}else{if(Ea(t))throw Error(C(418));t.flags=t.flags&-4097|2,q=!1,Ve=t}}}function Id(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ve=t}function mi(t){if(t!==Ve)return!1;if(!q)return Id(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wa(t.type,t.memoizedProps)),e&&(e=Ue)){if(Ea(t))throw jp(),Error(C(418));for(;e;)Rp(t,e),e=$t(e.nextSibling)}if(Id(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ue=$t(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ue=null}}else Ue=Ve?$t(t.stateNode.nextSibling):null;return!0}function jp(){for(var t=Ue;t;)t=$t(t.nextSibling)}function pr(){Ue=Ve=null,q=!1}function Mu(t){rt===null?rt=[t]:rt.push(t)}var x_=Rt.ReactCurrentBatchConfig;function zr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function gi(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pd(t){var e=t._init;return e(t._payload)}function Ap(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=qt(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,w){return p===null||p.tag!==6?(p=Dl(g,m.mode,w),p.return=m,p):(p=s(p,g),p.return=m,p)}function a(m,p,g,w){var E=g.type;return E===Hn?h(m,p,g.props.children,w,g.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ot&&Pd(E)===p.type)?(w=s(p,g.props),w.ref=zr(m,p,g),w.return=m,w):(w=Li(g.type,g.key,g.props,null,m.mode,w),w.ref=zr(m,p,g),w.return=m,w)}function c(m,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Ll(g,m.mode,w),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function h(m,p,g,w,E){return p===null||p.tag!==7?(p=Nn(g,m.mode,w,E),p.return=m,p):(p=s(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Dl(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ii:return g=Li(p.type,p.key,p.props,null,m.mode,g),g.ref=zr(m,null,p),g.return=m,g;case Vn:return p=Ll(p,m.mode,g),p.return=m,p;case Ot:var w=p._init;return d(m,w(p._payload),g)}if(Kr(p)||Mr(p))return p=Nn(p,m.mode,g,null),p.return=m,p;gi(m,p)}return null}function f(m,p,g,w){var E=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:l(m,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ii:return g.key===E?a(m,p,g,w):null;case Vn:return g.key===E?c(m,p,g,w):null;case Ot:return E=g._init,f(m,p,E(g._payload),w)}if(Kr(g)||Mr(g))return E!==null?null:h(m,p,g,w,null);gi(m,g)}return null}function y(m,p,g,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(p,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ii:return m=m.get(w.key===null?g:w.key)||null,a(p,m,w,E);case Vn:return m=m.get(w.key===null?g:w.key)||null,c(p,m,w,E);case Ot:var k=w._init;return y(m,p,g,k(w._payload),E)}if(Kr(w)||Mr(w))return m=m.get(g)||null,h(p,m,w,E,null);gi(p,w)}return null}function v(m,p,g,w){for(var E=null,k=null,P=p,R=p=0,U=null;P!==null&&R<g.length;R++){P.index>R?(U=P,P=null):U=P.sibling;var A=f(m,P,g[R],w);if(A===null){P===null&&(P=U);break}t&&P&&A.alternate===null&&e(m,P),p=i(A,p,R),k===null?E=A:k.sibling=A,k=A,P=U}if(R===g.length)return n(m,P),q&&mn(m,R),E;if(P===null){for(;R<g.length;R++)P=d(m,g[R],w),P!==null&&(p=i(P,p,R),k===null?E=P:k.sibling=P,k=P);return q&&mn(m,R),E}for(P=r(m,P);R<g.length;R++)U=y(P,m,R,g[R],w),U!==null&&(t&&U.alternate!==null&&P.delete(U.key===null?R:U.key),p=i(U,p,R),k===null?E=U:k.sibling=U,k=U);return t&&P.forEach(function(xe){return e(m,xe)}),q&&mn(m,R),E}function _(m,p,g,w){var E=Mr(g);if(typeof E!="function")throw Error(C(150));if(g=E.call(g),g==null)throw Error(C(151));for(var k=E=null,P=p,R=p=0,U=null,A=g.next();P!==null&&!A.done;R++,A=g.next()){P.index>R?(U=P,P=null):U=P.sibling;var xe=f(m,P,A.value,w);if(xe===null){P===null&&(P=U);break}t&&P&&xe.alternate===null&&e(m,P),p=i(xe,p,R),k===null?E=xe:k.sibling=xe,k=xe,P=U}if(A.done)return n(m,P),q&&mn(m,R),E;if(P===null){for(;!A.done;R++,A=g.next())A=d(m,A.value,w),A!==null&&(p=i(A,p,R),k===null?E=A:k.sibling=A,k=A);return q&&mn(m,R),E}for(P=r(m,P);!A.done;R++,A=g.next())A=y(P,m,R,A.value,w),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?R:A.key),p=i(A,p,R),k===null?E=A:k.sibling=A,k=A);return t&&P.forEach(function(ce){return e(m,ce)}),q&&mn(m,R),E}function x(m,p,g,w){if(typeof g=="object"&&g!==null&&g.type===Hn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ii:e:{for(var E=g.key,k=p;k!==null;){if(k.key===E){if(E=g.type,E===Hn){if(k.tag===7){n(m,k.sibling),p=s(k,g.props.children),p.return=m,m=p;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ot&&Pd(E)===k.type){n(m,k.sibling),p=s(k,g.props),p.ref=zr(m,k,g),p.return=m,m=p;break e}n(m,k);break}else e(m,k);k=k.sibling}g.type===Hn?(p=Nn(g.props.children,m.mode,w,g.key),p.return=m,m=p):(w=Li(g.type,g.key,g.props,null,m.mode,w),w.ref=zr(m,p,g),w.return=m,m=w)}return o(m);case Vn:e:{for(k=g.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Ll(g,m.mode,w),p.return=m,m=p}return o(m);case Ot:return k=g._init,x(m,p,k(g._payload),w)}if(Kr(g))return v(m,p,g,w);if(Mr(g))return _(m,p,g,w);gi(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=Dl(g,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return x}var mr=Ap(!0),Dp=Ap(!1),Yi=cn(null),qi=null,Zn=null,Ou=null;function bu(){Ou=Zn=qi=null}function Fu(t){var e=Yi.current;Y(Yi),t._currentValue=e}function ka(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lr(t,e){qi=t,Ou=Zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Me=!0),t.firstContext=null)}function Je(t){var e=t._currentValue;if(Ou!==t)if(t={context:t,memoizedValue:e,next:null},Zn===null){if(qi===null)throw Error(C(308));Zn=t,qi.dependencies={lanes:0,firstContext:t}}else Zn=Zn.next=t;return e}var wn=null;function Gu(t){wn===null?wn=[t]:wn.push(t)}function Lp(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Gu(e)):(n.next=s.next,s.next=n),e.interleaved=n,kt(t,r)}function kt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bt=!1;function zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function St(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,kt(t,n)}return s=r.interleaved,s===null?(e.next=e,Gu(r)):(e.next=s.next,s.next=e),r.interleaved=e,kt(t,n)}function Ii(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nu(t,n)}}function Rd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xi(t,e,n,r){var s=t.updateQueue;bt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,h=c=a=null,l=i;do{var f=l.lane,y=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,_=l;switch(f=e,y=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){d=v.call(y,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(y,d,f):v,f==null)break e;d=Z({},d,f);break e;case 2:bt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=y,a=d):h=h.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(a=d),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Pn|=o,t.lanes=o,t.memoizedState=d}}function jd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var $s={},mt=cn($s),Cs=cn($s),Es=cn($s);function xn(t){if(t===$s)throw Error(C(174));return t}function Bu(t,e){switch($(Es,e),$(Cs,t),$(mt,$s),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oa(e,t)}Y(mt),$(mt,e)}function gr(){Y(mt),Y(Cs),Y(Es)}function Op(t){xn(Es.current);var e=xn(mt.current),n=oa(e,t.type);e!==n&&($(Cs,t),$(mt,n))}function Wu(t){Cs.current===t&&(Y(mt),Y(Cs))}var X=cn(0);function Ji(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tl=[];function Uu(){for(var t=0;t<Tl.length;t++)Tl[t]._workInProgressVersionPrimary=null;Tl.length=0}var Pi=Rt.ReactCurrentDispatcher,Il=Rt.ReactCurrentBatchConfig,In=0,J=null,oe=null,fe=null,Zi=!1,ns=!1,Ns=0,S_=0;function Se(){throw Error(C(321))}function Vu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ct(t[n],e[n]))return!1;return!0}function Hu(t,e,n,r,s,i){if(In=i,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pi.current=t===null||t.memoizedState===null?k_:T_,t=n(r,s),ns){i=0;do{if(ns=!1,Ns=0,25<=i)throw Error(C(301));i+=1,fe=oe=null,e.updateQueue=null,Pi.current=I_,t=n(r,s)}while(ns)}if(Pi.current=eo,e=oe!==null&&oe.next!==null,In=0,fe=oe=J=null,Zi=!1,e)throw Error(C(300));return t}function $u(){var t=Ns!==0;return Ns=0,t}function ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?J.memoizedState=fe=t:fe=fe.next=t,fe}function Ze(){if(oe===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=fe===null?J.memoizedState:fe.next;if(e!==null)fe=e,oe=t;else{if(t===null)throw Error(C(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},fe===null?J.memoizedState=fe=t:fe=fe.next=t}return fe}function ks(t,e){return typeof e=="function"?e(t):e}function Pl(t){var e=Ze(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=oe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var h=c.lane;if((In&h)===h)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,J.lanes|=h,Pn|=h}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,ct(r,e.memoizedState)||(Me=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,J.lanes|=i,Pn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rl(t){var e=Ze(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ct(i,e.memoizedState)||(Me=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bp(){}function Fp(t,e){var n=J,r=Ze(),s=e(),i=!ct(r.memoizedState,s);if(i&&(r.memoizedState=s,Me=!0),r=r.queue,Qu(Bp.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,Ts(9,zp.bind(null,n,r,s,e),void 0,null),ge===null)throw Error(C(349));In&30||Gp(n,e,s)}return s}function Gp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zp(t,e,n,r){e.value=n,e.getSnapshot=r,Wp(e)&&Up(t)}function Bp(t,e,n){return n(function(){Wp(e)&&Up(t)})}function Wp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ct(t,n)}catch{return!0}}function Up(t){var e=kt(t,1);e!==null&&at(e,t,1,-1)}function Ad(t){var e=ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:t},e.queue=t,t=t.dispatch=N_.bind(null,J,t),[e.memoizedState,t]}function Ts(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Vp(){return Ze().memoizedState}function Ri(t,e,n,r){var s=ht();J.flags|=t,s.memoizedState=Ts(1|e,n,void 0,r===void 0?null:r)}function Lo(t,e,n,r){var s=Ze();r=r===void 0?null:r;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,r!==null&&Vu(r,o.deps)){s.memoizedState=Ts(e,n,i,r);return}}J.flags|=t,s.memoizedState=Ts(1|e,n,i,r)}function Dd(t,e){return Ri(8390656,8,t,e)}function Qu(t,e){return Lo(2048,8,t,e)}function Hp(t,e){return Lo(4,2,t,e)}function $p(t,e){return Lo(4,4,t,e)}function Qp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kp(t,e,n){return n=n!=null?n.concat([t]):null,Lo(4,4,Qp.bind(null,e,t),n)}function Ku(){}function Yp(t,e){var n=Ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qp(t,e){var n=Ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xp(t,e,n){return In&21?(ct(n,e)||(n=np(),J.lanes|=n,Pn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Me=!0),t.memoizedState=n)}function C_(t,e){var n=B;B=n!==0&&4>n?n:4,t(!0);var r=Il.transition;Il.transition={};try{t(!1),e()}finally{B=n,Il.transition=r}}function Jp(){return Ze().memoizedState}function E_(t,e,n){var r=Yt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zp(t))em(e,n);else if(n=Lp(t,e,n,r),n!==null){var s=je();at(n,t,r,s),tm(n,e,r)}}function N_(t,e,n){var r=Yt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zp(t))em(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ct(l,o)){var a=e.interleaved;a===null?(s.next=s,Gu(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Lp(t,e,s,r),n!==null&&(s=je(),at(n,t,r,s),tm(n,e,r))}}function Zp(t){var e=t.alternate;return t===J||e!==null&&e===J}function em(t,e){ns=Zi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nu(t,n)}}var eo={readContext:Je,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},k_={readContext:Je,useCallback:function(t,e){return ht().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:Dd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ri(4194308,4,Qp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ri(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ri(4,2,t,e)},useMemo:function(t,e){var n=ht();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ht();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E_.bind(null,J,t),[r.memoizedState,t]},useRef:function(t){var e=ht();return t={current:t},e.memoizedState=t},useState:Ad,useDebugValue:Ku,useDeferredValue:function(t){return ht().memoizedState=t},useTransition:function(){var t=Ad(!1),e=t[0];return t=C_.bind(null,t[1]),ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=J,s=ht();if(q){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),ge===null)throw Error(C(349));In&30||Gp(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Dd(Bp.bind(null,r,i,t),[t]),r.flags|=2048,Ts(9,zp.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ht(),e=ge.identifierPrefix;if(q){var n=wt,r=_t;n=(r&~(1<<32-lt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ns++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=S_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},T_={readContext:Je,useCallback:Yp,useContext:Je,useEffect:Qu,useImperativeHandle:Kp,useInsertionEffect:Hp,useLayoutEffect:$p,useMemo:qp,useReducer:Pl,useRef:Vp,useState:function(){return Pl(ks)},useDebugValue:Ku,useDeferredValue:function(t){var e=Ze();return Xp(e,oe.memoizedState,t)},useTransition:function(){var t=Pl(ks)[0],e=Ze().memoizedState;return[t,e]},useMutableSource:bp,useSyncExternalStore:Fp,useId:Jp,unstable_isNewReconciler:!1},I_={readContext:Je,useCallback:Yp,useContext:Je,useEffect:Qu,useImperativeHandle:Kp,useInsertionEffect:Hp,useLayoutEffect:$p,useMemo:qp,useReducer:Rl,useRef:Vp,useState:function(){return Rl(ks)},useDebugValue:Ku,useDeferredValue:function(t){var e=Ze();return oe===null?e.memoizedState=t:Xp(e,oe.memoizedState,t)},useTransition:function(){var t=Rl(ks)[0],e=Ze().memoizedState;return[t,e]},useMutableSource:bp,useSyncExternalStore:Fp,useId:Jp,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ta(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Z({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mo={isMounted:function(t){return(t=t._reactInternals)?Mn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=je(),s=Yt(t),i=St(r,s);i.payload=e,n!=null&&(i.callback=n),e=Qt(t,i,s),e!==null&&(at(e,t,s,r),Ii(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=je(),s=Yt(t),i=St(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qt(t,i,s),e!==null&&(at(e,t,s,r),Ii(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=je(),r=Yt(t),s=St(n,r);s.tag=2,e!=null&&(s.callback=e),e=Qt(t,s,r),e!==null&&(at(e,t,r,n),Ii(e,t,r))}};function Ld(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_s(n,r)||!_s(s,i):!0}function nm(t,e,n){var r=!1,s=rn,i=e.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Fe(e)?kn:ke.current,r=e.contextTypes,i=(r=r!=null)?fr(t,s):rn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Md(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mo.enqueueReplaceState(e,e.state,null)}function Ia(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},zu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Fe(e)?kn:ke.current,s.context=fr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ta(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mo.enqueueReplaceState(s,s.state,null),Xi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function yr(t,e){try{var n="",r=e;do n+=nv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function jl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P_=typeof WeakMap=="function"?WeakMap:Map;function rm(t,e,n){n=St(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){no||(no=!0,Ga=r),Pa(t,e)},n}function sm(t,e,n){n=St(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Pa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Pa(t,e),typeof r!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Od(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=U_.bind(null,t,e,n),e.then(t,t))}function bd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=St(-1,1),e.tag=2,Qt(n,e,1))),n.lanes|=1),t)}var R_=Rt.ReactCurrentOwner,Me=!1;function Ie(t,e,n,r){e.child=t===null?Dp(e,null,n,r):mr(e,t.child,n,r)}function Gd(t,e,n,r,s){n=n.render;var i=e.ref;return lr(e,s),r=Hu(t,e,n,r,i,s),n=$u(),t!==null&&!Me?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tt(t,e,s)):(q&&n&&Du(e),e.flags|=1,Ie(t,e,r,s),e.child)}function zd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!nc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,im(t,e,i,r,s)):(t=Li(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_s,n(o,r)&&t.ref===e.ref)return Tt(t,e,s)}return e.flags|=1,t=qt(i,r),t.ref=e.ref,t.return=e,e.child=t}function im(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_s(i,r)&&t.ref===e.ref)if(Me=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Me=!0);else return e.lanes=t.lanes,Tt(t,e,s)}return Ra(t,e,n,r,s)}function om(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$(tr,We),We|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$(tr,We),We|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$(tr,We),We|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,$(tr,We),We|=r;return Ie(t,e,s,n),e.child}function lm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ra(t,e,n,r,s){var i=Fe(n)?kn:ke.current;return i=fr(e,i),lr(e,s),n=Hu(t,e,n,r,i,s),r=$u(),t!==null&&!Me?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tt(t,e,s)):(q&&r&&Du(e),e.flags|=1,Ie(t,e,n,s),e.child)}function Bd(t,e,n,r,s){if(Fe(n)){var i=!0;$i(e)}else i=!1;if(lr(e,s),e.stateNode===null)ji(t,e),nm(e,n,r),Ia(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Je(c):(c=Fe(n)?kn:ke.current,c=fr(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Md(e,o,r,c),bt=!1;var f=e.memoizedState;o.state=f,Xi(e,r,o,s),a=e.memoizedState,l!==r||f!==a||be.current||bt?(typeof h=="function"&&(Ta(e,n,h,r),a=e.memoizedState),(l=bt||Ld(e,n,l,r,f,a,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Mp(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:tt(e.type,l),o.props=c,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Je(a):(a=Fe(n)?kn:ke.current,a=fr(e,a));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Md(e,o,r,a),bt=!1,f=e.memoizedState,o.state=f,Xi(e,r,o,s);var v=e.memoizedState;l!==d||f!==v||be.current||bt?(typeof y=="function"&&(Ta(e,n,y,r),v=e.memoizedState),(c=bt||Ld(e,n,c,r,f,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ja(t,e,n,r,i,s)}function ja(t,e,n,r,s,i){lm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&kd(e,n,!1),Tt(t,e,i);r=e.stateNode,R_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mr(e,t.child,null,i),e.child=mr(e,null,l,i)):Ie(t,e,l,i),e.memoizedState=r.state,s&&kd(e,n,!0),e.child}function am(t){var e=t.stateNode;e.pendingContext?Nd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nd(t,e.context,!1),Bu(t,e.containerInfo)}function Wd(t,e,n,r,s){return pr(),Mu(s),e.flags|=256,Ie(t,e,n,r),e.child}var Aa={dehydrated:null,treeContext:null,retryLane:0};function Da(t){return{baseLanes:t,cachePool:null,transitions:null}}function um(t,e,n){var r=e.pendingProps,s=X.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),$(X,s&1),t===null)return Na(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fo(o,r,0,null),t=Nn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Da(n),e.memoizedState=Aa,t):Yu(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return j_(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=qt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=qt(l,i):(i=Nn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Da(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Aa,r}return i=t.child,t=i.sibling,r=qt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yu(t,e){return e=Fo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yi(t,e,n,r){return r!==null&&Mu(r),mr(e,t.child,null,n),t=Yu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function j_(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=jl(Error(C(422))),yi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Fo({mode:"visible",children:r.children},s,0,null),i=Nn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&mr(e,t.child,null,o),e.child.memoizedState=Da(o),e.memoizedState=Aa,i);if(!(e.mode&1))return yi(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(C(419)),r=jl(i,r,void 0),yi(t,e,o,r)}if(l=(o&t.childLanes)!==0,Me||l){if(r=ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kt(t,s),at(r,t,s,-1))}return tc(),r=jl(Error(C(421))),yi(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=V_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ue=$t(s.nextSibling),Ve=e,q=!0,rt=null,t!==null&&(Ke[Ye++]=_t,Ke[Ye++]=wt,Ke[Ye++]=Tn,_t=t.id,wt=t.overflow,Tn=e),e=Yu(e,r.children),e.flags|=4096,e)}function Ud(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ka(t.return,e,n)}function Al(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cm(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ie(t,e,r.children,n),r=X.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ud(t,n,e);else if(t.tag===19)Ud(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($(X,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ji(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Al(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ji(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Al(e,!0,n,null,i);break;case"together":Al(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ji(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=qt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function A_(t,e,n){switch(e.tag){case 3:am(e),pr();break;case 5:Op(e);break;case 1:Fe(e.type)&&$i(e);break;case 4:Bu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;$(Yi,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($(X,X.current&1),e.flags|=128,null):n&e.child.childLanes?um(t,e,n):($(X,X.current&1),t=Tt(t,e,n),t!==null?t.sibling:null);$(X,X.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cm(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$(X,X.current),r)break;return null;case 22:case 23:return e.lanes=0,om(t,e,n)}return Tt(t,e,n)}var dm,La,hm,fm;dm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};La=function(){};hm=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,xn(mt.current);var i=null;switch(n){case"input":s=na(t,s),r=na(t,r),i=[];break;case"select":s=Z({},s,{value:void 0}),r=Z({},r,{value:void 0}),i=[];break;case"textarea":s=ia(t,s),r=ia(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vi)}la(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hs.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hs.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Q("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};fm=function(t,e,n,r){n!==r&&(e.flags|=4)};function Br(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function D_(t,e,n){var r=e.pendingProps;switch(Lu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(e),null;case 1:return Fe(e.type)&&Hi(),Ce(e),null;case 3:return r=e.stateNode,gr(),Y(be),Y(ke),Uu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rt!==null&&(Wa(rt),rt=null))),La(t,e),Ce(e),null;case 5:Wu(e);var s=xn(Es.current);if(n=e.type,t!==null&&e.stateNode!=null)hm(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return Ce(e),null}if(t=xn(mt.current),mi(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ft]=e,r[Ss]=i,t=(e.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(s=0;s<qr.length;s++)Q(qr[s],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":Jc(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":ed(r,i),Q("invalid",r)}la(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&pi(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&pi(r.textContent,l,t),s=["children",""+l]):hs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Q("scroll",r)}switch(n){case"input":oi(r),Zc(r,i,!0);break;case"textarea":oi(r),td(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ft]=e,t[Ss]=r,dm(t,e,!1,!1),e.stateNode=t;e:{switch(o=aa(n,r),n){case"dialog":Q("cancel",t),Q("close",t),s=r;break;case"iframe":case"object":case"embed":Q("load",t),s=r;break;case"video":case"audio":for(s=0;s<qr.length;s++)Q(qr[s],t);s=r;break;case"source":Q("error",t),s=r;break;case"img":case"image":case"link":Q("error",t),Q("load",t),s=r;break;case"details":Q("toggle",t),s=r;break;case"input":Jc(t,r),s=na(t,r),Q("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Z({},r,{value:void 0}),Q("invalid",t);break;case"textarea":ed(t,r),s=ia(t,r),Q("invalid",t);break;default:s=r}la(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Vf(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Wf(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&fs(t,a):typeof a=="number"&&fs(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Q("scroll",t):a!=null&&_u(t,i,a,o))}switch(n){case"input":oi(t),Zc(t,r,!1);break;case"textarea":oi(t),td(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?rr(t,!!r.multiple,i,!1):r.defaultValue!=null&&rr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ce(e),null;case 6:if(t&&e.stateNode!=null)fm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=xn(Es.current),xn(mt.current),mi(e)){if(r=e.stateNode,n=e.memoizedProps,r[ft]=e,(i=r.nodeValue!==n)&&(t=Ve,t!==null))switch(t.tag){case 3:pi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pi(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=e,e.stateNode=r}return Ce(e),null;case 13:if(Y(X),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Ue!==null&&e.mode&1&&!(e.flags&128))jp(),pr(),e.flags|=98560,i=!1;else if(i=mi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[ft]=e}else pr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),i=!1}else rt!==null&&(Wa(rt),rt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?ue===0&&(ue=3):tc())),e.updateQueue!==null&&(e.flags|=4),Ce(e),null);case 4:return gr(),La(t,e),t===null&&ws(e.stateNode.containerInfo),Ce(e),null;case 10:return Fu(e.type._context),Ce(e),null;case 17:return Fe(e.type)&&Hi(),Ce(e),null;case 19:if(Y(X),i=e.memoizedState,i===null)return Ce(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Br(i,!1);else{if(ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ji(t),o!==null){for(e.flags|=128,Br(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $(X,X.current&1|2),e.child}t=t.sibling}i.tail!==null&&se()>vr&&(e.flags|=128,r=!0,Br(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ji(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Br(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return Ce(e),null}else 2*se()-i.renderingStartTime>vr&&n!==1073741824&&(e.flags|=128,r=!0,Br(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=se(),e.sibling=null,n=X.current,$(X,r?n&1|2:n&1),e):(Ce(e),null);case 22:case 23:return ec(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?We&1073741824&&(Ce(e),e.subtreeFlags&6&&(e.flags|=8192)):Ce(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function L_(t,e){switch(Lu(e),e.tag){case 1:return Fe(e.type)&&Hi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gr(),Y(be),Y(ke),Uu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wu(e),null;case 13:if(Y(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));pr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(X),null;case 4:return gr(),null;case 10:return Fu(e.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var vi=!1,Ee=!1,M_=typeof WeakSet=="function"?WeakSet:Set,T=null;function er(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ee(t,e,r)}else n.current=null}function Ma(t,e,n){try{n()}catch(r){ee(t,e,r)}}var Vd=!1;function O_(t,e){if(va=Bi,t=vp(),Au(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===t)break t;if(f===n&&++c===s&&(l=o),f===i&&++h===r&&(a=o),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(_a={focusedElem:t,selectionRange:n},Bi=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,x=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:tt(e.type,_),x);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){ee(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return v=Vd,Vd=!1,v}function rs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ma(e,n,i)}s=s.next}while(s!==r)}}function Oo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Oa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pm(t){var e=t.alternate;e!==null&&(t.alternate=null,pm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ft],delete e[Ss],delete e[Sa],delete e[v_],delete e[__])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mm(t){return t.tag===5||t.tag===3||t.tag===4}function Hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ba(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vi));else if(r!==4&&(t=t.child,t!==null))for(ba(t,e,n),t=t.sibling;t!==null;)ba(t,e,n),t=t.sibling}function Fa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fa(t,e,n),t=t.sibling;t!==null;)Fa(t,e,n),t=t.sibling}var ve=null,nt=!1;function Mt(t,e,n){for(n=n.child;n!==null;)gm(t,e,n),n=n.sibling}function gm(t,e,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Io,n)}catch{}switch(n.tag){case 5:Ee||er(n,e);case 6:var r=ve,s=nt;ve=null,Mt(t,e,n),ve=r,nt=s,ve!==null&&(nt?(t=ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(nt?(t=ve,n=n.stateNode,t.nodeType===8?Nl(t.parentNode,n):t.nodeType===1&&Nl(t,n),ys(t)):Nl(ve,n.stateNode));break;case 4:r=ve,s=nt,ve=n.stateNode.containerInfo,nt=!0,Mt(t,e,n),ve=r,nt=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ma(n,e,o),s=s.next}while(s!==r)}Mt(t,e,n);break;case 1:if(!Ee&&(er(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ee(n,e,l)}Mt(t,e,n);break;case 21:Mt(t,e,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,Mt(t,e,n),Ee=r):Mt(t,e,n);break;default:Mt(t,e,n)}}function $d(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new M_),e.forEach(function(r){var s=H_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function et(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,nt=!1;break e;case 3:ve=l.stateNode.containerInfo,nt=!0;break e;case 4:ve=l.stateNode.containerInfo,nt=!0;break e}l=l.return}if(ve===null)throw Error(C(160));gm(i,o,s),ve=null,nt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){ee(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ym(e,t),e=e.sibling}function ym(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(et(e,t),dt(t),r&4){try{rs(3,t,t.return),Oo(3,t)}catch(_){ee(t,t.return,_)}try{rs(5,t,t.return)}catch(_){ee(t,t.return,_)}}break;case 1:et(e,t),dt(t),r&512&&n!==null&&er(n,n.return);break;case 5:if(et(e,t),dt(t),r&512&&n!==null&&er(n,n.return),t.flags&32){var s=t.stateNode;try{fs(s,"")}catch(_){ee(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Gf(s,i),aa(l,o);var c=aa(l,i);for(o=0;o<a.length;o+=2){var h=a[o],d=a[o+1];h==="style"?Vf(s,d):h==="dangerouslySetInnerHTML"?Wf(s,d):h==="children"?fs(s,d):_u(s,h,d,c)}switch(l){case"input":ra(s,i);break;case"textarea":zf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?rr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?rr(s,!!i.multiple,i.defaultValue,!0):rr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ss]=i}catch(_){ee(t,t.return,_)}}break;case 6:if(et(e,t),dt(t),r&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){ee(t,t.return,_)}}break;case 3:if(et(e,t),dt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ys(e.containerInfo)}catch(_){ee(t,t.return,_)}break;case 4:et(e,t),dt(t);break;case 13:et(e,t),dt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ju=se())),r&4&&$d(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ee=(c=Ee)||h,et(e,t),Ee=c):et(e,t),dt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(T=t,h=t.child;h!==null;){for(d=T=h;T!==null;){switch(f=T,y=f.child,f.tag){case 0:case 11:case 14:case 15:rs(4,f,f.return);break;case 1:er(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){ee(r,n,_)}}break;case 5:er(f,f.return);break;case 22:if(f.memoizedState!==null){Kd(d);continue}}y!==null?(y.return=f,T=y):Kd(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Uf("display",o))}catch(_){ee(t,t.return,_)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(_){ee(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:et(e,t),dt(t),r&4&&$d(t);break;case 21:break;default:et(e,t),dt(t)}}function dt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mm(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fs(s,""),r.flags&=-33);var i=Hd(t);Fa(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Hd(t);ba(t,l,o);break;default:throw Error(C(161))}}catch(a){ee(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function b_(t,e,n){T=t,vm(t)}function vm(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vi;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Ee;l=vi;var c=Ee;if(vi=o,(Ee=a)&&!c)for(T=s;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?Yd(s):a!==null?(a.return=o,T=a):Yd(s);for(;i!==null;)T=i,vm(i),i=i.sibling;T=s,vi=l,Ee=c}Qd(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):Qd(t)}}function Qd(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ee||Oo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&jd(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ys(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ee||e.flags&512&&Oa(e)}catch(f){ee(e,e.return,f)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function Kd(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function Yd(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oo(4,e)}catch(a){ee(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){ee(e,s,a)}}var i=e.return;try{Oa(e)}catch(a){ee(e,i,a)}break;case 5:var o=e.return;try{Oa(e)}catch(a){ee(e,o,a)}}}catch(a){ee(e,e.return,a)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var F_=Math.ceil,to=Rt.ReactCurrentDispatcher,qu=Rt.ReactCurrentOwner,Xe=Rt.ReactCurrentBatchConfig,G=0,ge=null,ie=null,_e=0,We=0,tr=cn(0),ue=0,Is=null,Pn=0,bo=0,Xu=0,ss=null,Le=null,Ju=0,vr=1/0,yt=null,no=!1,Ga=null,Kt=null,_i=!1,Bt=null,ro=0,is=0,za=null,Ai=-1,Di=0;function je(){return G&6?se():Ai!==-1?Ai:Ai=se()}function Yt(t){return t.mode&1?G&2&&_e!==0?_e&-_e:x_.transition!==null?(Di===0&&(Di=np()),Di):(t=B,t!==0||(t=window.event,t=t===void 0?16:up(t.type)),t):1}function at(t,e,n,r){if(50<is)throw is=0,za=null,Error(C(185));Us(t,n,r),(!(G&2)||t!==ge)&&(t===ge&&(!(G&2)&&(bo|=n),ue===4&&Gt(t,_e)),Ge(t,r),n===1&&G===0&&!(e.mode&1)&&(vr=se()+500,Do&&dn()))}function Ge(t,e){var n=t.callbackNode;xv(t,e);var r=zi(t,t===ge?_e:0);if(r===0)n!==null&&sd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sd(n),e===1)t.tag===0?w_(qd.bind(null,t)):Ip(qd.bind(null,t)),g_(function(){!(G&6)&&dn()}),n=null;else{switch(rp(r)){case 1:n=Eu;break;case 4:n=ep;break;case 16:n=Gi;break;case 536870912:n=tp;break;default:n=Gi}n=km(n,_m.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _m(t,e){if(Ai=-1,Di=0,G&6)throw Error(C(327));var n=t.callbackNode;if(ar()&&t.callbackNode!==n)return null;var r=zi(t,t===ge?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=so(t,r);else{e=r;var s=G;G|=2;var i=xm();(ge!==t||_e!==e)&&(yt=null,vr=se()+500,En(t,e));do try{B_();break}catch(l){wm(t,l)}while(!0);bu(),to.current=i,G=s,ie!==null?e=0:(ge=null,_e=0,e=ue)}if(e!==0){if(e===2&&(s=fa(t),s!==0&&(r=s,e=Ba(t,s))),e===1)throw n=Is,En(t,0),Gt(t,r),Ge(t,se()),n;if(e===6)Gt(t,r);else{if(s=t.current.alternate,!(r&30)&&!G_(s)&&(e=so(t,r),e===2&&(i=fa(t),i!==0&&(r=i,e=Ba(t,i))),e===1))throw n=Is,En(t,0),Gt(t,r),Ge(t,se()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:gn(t,Le,yt);break;case 3:if(Gt(t,r),(r&130023424)===r&&(e=Ju+500-se(),10<e)){if(zi(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){je(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xa(gn.bind(null,t,Le,yt),e);break}gn(t,Le,yt);break;case 4:if(Gt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-lt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*F_(r/1960))-r,10<r){t.timeoutHandle=xa(gn.bind(null,t,Le,yt),r);break}gn(t,Le,yt);break;case 5:gn(t,Le,yt);break;default:throw Error(C(329))}}}return Ge(t,se()),t.callbackNode===n?_m.bind(null,t):null}function Ba(t,e){var n=ss;return t.current.memoizedState.isDehydrated&&(En(t,e).flags|=256),t=so(t,e),t!==2&&(e=Le,Le=n,e!==null&&Wa(e)),t}function Wa(t){Le===null?Le=t:Le.push.apply(Le,t)}function G_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ct(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gt(t,e){for(e&=~Xu,e&=~bo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lt(e),r=1<<n;t[n]=-1,e&=~r}}function qd(t){if(G&6)throw Error(C(327));ar();var e=zi(t,0);if(!(e&1))return Ge(t,se()),null;var n=so(t,e);if(t.tag!==0&&n===2){var r=fa(t);r!==0&&(e=r,n=Ba(t,r))}if(n===1)throw n=Is,En(t,0),Gt(t,e),Ge(t,se()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gn(t,Le,yt),Ge(t,se()),null}function Zu(t,e){var n=G;G|=1;try{return t(e)}finally{G=n,G===0&&(vr=se()+500,Do&&dn())}}function Rn(t){Bt!==null&&Bt.tag===0&&!(G&6)&&ar();var e=G;G|=1;var n=Xe.transition,r=B;try{if(Xe.transition=null,B=1,t)return t()}finally{B=r,Xe.transition=n,G=e,!(G&6)&&dn()}}function ec(){We=tr.current,Y(tr)}function En(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,m_(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(Lu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hi();break;case 3:gr(),Y(be),Y(ke),Uu();break;case 5:Wu(r);break;case 4:gr();break;case 13:Y(X);break;case 19:Y(X);break;case 10:Fu(r.type._context);break;case 22:case 23:ec()}n=n.return}if(ge=t,ie=t=qt(t.current,null),_e=We=e,ue=0,Is=null,Xu=bo=Pn=0,Le=ss=null,wn!==null){for(e=0;e<wn.length;e++)if(n=wn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}wn=null}return t}function wm(t,e){do{var n=ie;try{if(bu(),Pi.current=eo,Zi){for(var r=J.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zi=!1}if(In=0,fe=oe=J=null,ns=!1,Ns=0,qu.current=null,n===null||n.return===null){ue=1,Is=e,ie=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=_e,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=bd(o);if(y!==null){y.flags&=-257,Fd(y,o,l,i,e),y.mode&1&&Od(i,c,e),e=y,a=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(a),e.updateQueue=_}else v.add(a);break e}else{if(!(e&1)){Od(i,c,e),tc();break e}a=Error(C(426))}}else if(q&&l.mode&1){var x=bd(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Fd(x,o,l,i,e),Mu(yr(a,l));break e}}i=a=yr(a,l),ue!==4&&(ue=2),ss===null?ss=[i]:ss.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=rm(i,a,e);Rd(i,m);break e;case 1:l=a;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kt===null||!Kt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=sm(i,l,e);Rd(i,w);break e}}i=i.return}while(i!==null)}Cm(n)}catch(E){e=E,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(!0)}function xm(){var t=to.current;return to.current=eo,t===null?eo:t}function tc(){(ue===0||ue===3||ue===2)&&(ue=4),ge===null||!(Pn&268435455)&&!(bo&268435455)||Gt(ge,_e)}function so(t,e){var n=G;G|=2;var r=xm();(ge!==t||_e!==e)&&(yt=null,En(t,e));do try{z_();break}catch(s){wm(t,s)}while(!0);if(bu(),G=n,to.current=r,ie!==null)throw Error(C(261));return ge=null,_e=0,ue}function z_(){for(;ie!==null;)Sm(ie)}function B_(){for(;ie!==null&&!hv();)Sm(ie)}function Sm(t){var e=Nm(t.alternate,t,We);t.memoizedProps=t.pendingProps,e===null?Cm(t):ie=e,qu.current=null}function Cm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L_(n,e),n!==null){n.flags&=32767,ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ue=6,ie=null;return}}else if(n=D_(n,e,We),n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);ue===0&&(ue=5)}function gn(t,e,n){var r=B,s=Xe.transition;try{Xe.transition=null,B=1,W_(t,e,n,r)}finally{Xe.transition=s,B=r}return null}function W_(t,e,n,r){do ar();while(Bt!==null);if(G&6)throw Error(C(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Sv(t,i),t===ge&&(ie=ge=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_i||(_i=!0,km(Gi,function(){return ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xe.transition,Xe.transition=null;var o=B;B=1;var l=G;G|=4,qu.current=null,O_(t,n),ym(n,t),a_(_a),Bi=!!va,_a=va=null,t.current=n,b_(n),fv(),G=l,B=o,Xe.transition=i}else t.current=n;if(_i&&(_i=!1,Bt=t,ro=s),i=t.pendingLanes,i===0&&(Kt=null),gv(n.stateNode),Ge(t,se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(no)throw no=!1,t=Ga,Ga=null,t;return ro&1&&t.tag!==0&&ar(),i=t.pendingLanes,i&1?t===za?is++:(is=0,za=t):is=0,dn(),null}function ar(){if(Bt!==null){var t=rp(ro),e=Xe.transition,n=B;try{if(Xe.transition=null,B=16>t?16:t,Bt===null)var r=!1;else{if(t=Bt,Bt=null,ro=0,G&6)throw Error(C(331));var s=G;for(G|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(T=c;T!==null;){var h=T;switch(h.tag){case 0:case 11:case 15:rs(8,h,i)}var d=h.child;if(d!==null)d.return=h,T=d;else for(;T!==null;){h=T;var f=h.sibling,y=h.return;if(pm(h),h===c){T=null;break}if(f!==null){f.return=y,T=f;break}T=y}}}var v=i.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=p;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Oo(9,l)}}catch(E){ee(l,l.return,E)}if(l===o){T=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,T=w;break e}T=l.return}}if(G=s,dn(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Io,t)}catch{}r=!0}return r}finally{B=n,Xe.transition=e}}return!1}function Xd(t,e,n){e=yr(n,e),e=rm(t,e,1),t=Qt(t,e,1),e=je(),t!==null&&(Us(t,1,e),Ge(t,e))}function ee(t,e,n){if(t.tag===3)Xd(t,t,n);else for(;e!==null;){if(e.tag===3){Xd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kt===null||!Kt.has(r))){t=yr(n,t),t=sm(e,t,1),e=Qt(e,t,1),t=je(),e!==null&&(Us(e,1,t),Ge(e,t));break}}e=e.return}}function U_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=je(),t.pingedLanes|=t.suspendedLanes&n,ge===t&&(_e&n)===n&&(ue===4||ue===3&&(_e&130023424)===_e&&500>se()-Ju?En(t,0):Xu|=n),Ge(t,e)}function Em(t,e){e===0&&(t.mode&1?(e=ui,ui<<=1,!(ui&130023424)&&(ui=4194304)):e=1);var n=je();t=kt(t,e),t!==null&&(Us(t,e,n),Ge(t,n))}function V_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Em(t,n)}function H_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),Em(t,n)}var Nm;Nm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||be.current)Me=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Me=!1,A_(t,e,n);Me=!!(t.flags&131072)}else Me=!1,q&&e.flags&1048576&&Pp(e,Ki,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ji(t,e),t=e.pendingProps;var s=fr(e,ke.current);lr(e,n),s=Hu(null,e,r,t,s,n);var i=$u();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fe(r)?(i=!0,$i(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zu(e),s.updater=Mo,e.stateNode=s,s._reactInternals=e,Ia(e,r,t,n),e=ja(null,e,r,!0,i,n)):(e.tag=0,q&&i&&Du(e),Ie(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ji(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Q_(r),t=tt(r,t),s){case 0:e=Ra(null,e,r,t,n);break e;case 1:e=Bd(null,e,r,t,n);break e;case 11:e=Gd(null,e,r,t,n);break e;case 14:e=zd(null,e,r,tt(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Ra(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Bd(t,e,r,s,n);case 3:e:{if(am(e),t===null)throw Error(C(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Mp(t,e),Xi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=yr(Error(C(423)),e),e=Wd(t,e,r,n,s);break e}else if(r!==s){s=yr(Error(C(424)),e),e=Wd(t,e,r,n,s);break e}else for(Ue=$t(e.stateNode.containerInfo.firstChild),Ve=e,q=!0,rt=null,n=Dp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pr(),r===s){e=Tt(t,e,n);break e}Ie(t,e,r,n)}e=e.child}return e;case 5:return Op(e),t===null&&Na(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,wa(r,s)?o=null:i!==null&&wa(r,i)&&(e.flags|=32),lm(t,e),Ie(t,e,o,n),e.child;case 6:return t===null&&Na(e),null;case 13:return um(t,e,n);case 4:return Bu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mr(e,null,r,n):Ie(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Gd(t,e,r,s,n);case 7:return Ie(t,e,e.pendingProps,n),e.child;case 8:return Ie(t,e,e.pendingProps.children,n),e.child;case 12:return Ie(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,$(Yi,r._currentValue),r._currentValue=o,i!==null)if(ct(i.value,o)){if(i.children===s.children&&!be.current){e=Tt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=St(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ka(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ka(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ie(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,lr(e,n),s=Je(s),r=r(s),e.flags|=1,Ie(t,e,r,n),e.child;case 14:return r=e.type,s=tt(r,e.pendingProps),s=tt(r.type,s),zd(t,e,r,s,n);case 15:return im(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),ji(t,e),e.tag=1,Fe(r)?(t=!0,$i(e)):t=!1,lr(e,n),nm(e,r,s),Ia(e,r,s,n),ja(null,e,r,!0,t,n);case 19:return cm(t,e,n);case 22:return om(t,e,n)}throw Error(C(156,e.tag))};function km(t,e){return Zf(t,e)}function $_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,n,r){return new $_(t,e,n,r)}function nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q_(t){if(typeof t=="function")return nc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xu)return 11;if(t===Su)return 14}return 2}function qt(t,e){var n=t.alternate;return n===null?(n=qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Li(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")nc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hn:return Nn(n.children,s,i,e);case wu:o=8,s|=8;break;case Jl:return t=qe(12,n,e,s|2),t.elementType=Jl,t.lanes=i,t;case Zl:return t=qe(13,n,e,s),t.elementType=Zl,t.lanes=i,t;case ea:return t=qe(19,n,e,s),t.elementType=ea,t.lanes=i,t;case Of:return Fo(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lf:o=10;break e;case Mf:o=9;break e;case xu:o=11;break e;case Su:o=14;break e;case Ot:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=qe(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Nn(t,e,n,r){return t=qe(7,t,r,e),t.lanes=n,t}function Fo(t,e,n,r){return t=qe(22,t,r,e),t.elementType=Of,t.lanes=n,t.stateNode={isHidden:!1},t}function Dl(t,e,n){return t=qe(6,t,null,e),t.lanes=n,t}function Ll(t,e,n){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function K_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rc(t,e,n,r,s,i,o,l,a){return t=new K_(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(i),t}function Y_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tm(t){if(!t)return rn;t=t._reactInternals;e:{if(Mn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Fe(n))return Tp(t,n,e)}return e}function Im(t,e,n,r,s,i,o,l,a){return t=rc(n,r,!0,t,s,i,o,l,a),t.context=Tm(null),n=t.current,r=je(),s=Yt(n),i=St(r,s),i.callback=e??null,Qt(n,i,s),t.current.lanes=s,Us(t,s,r),Ge(t,r),t}function Go(t,e,n,r){var s=e.current,i=je(),o=Yt(s);return n=Tm(n),e.context===null?e.context=n:e.pendingContext=n,e=St(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qt(s,e,o),t!==null&&(at(t,s,o,i),Ii(t,s,o)),o}function io(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sc(t,e){Jd(t,e),(t=t.alternate)&&Jd(t,e)}function q_(){return null}var Pm=typeof reportError=="function"?reportError:function(t){console.error(t)};function ic(t){this._internalRoot=t}zo.prototype.render=ic.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Go(t,e,null,null)};zo.prototype.unmount=ic.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rn(function(){Go(null,t,null,null)}),e[Nt]=null}};function zo(t){this._internalRoot=t}zo.prototype.unstable_scheduleHydration=function(t){if(t){var e=op();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ft.length&&e!==0&&e<Ft[n].priority;n++);Ft.splice(n,0,t),n===0&&ap(t)}};function oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zd(){}function X_(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=io(o);i.call(c)}}var o=Im(e,r,t,0,null,!1,!1,"",Zd);return t._reactRootContainer=o,t[Nt]=o.current,ws(t.nodeType===8?t.parentNode:t),Rn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=io(a);l.call(c)}}var a=rc(t,0,!1,null,null,!1,!1,"",Zd);return t._reactRootContainer=a,t[Nt]=a.current,ws(t.nodeType===8?t.parentNode:t),Rn(function(){Go(e,a,n,r)}),a}function Wo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=io(o);l.call(a)}}Go(e,o,t,s)}else o=X_(n,e,t,s,r);return io(o)}sp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yr(e.pendingLanes);n!==0&&(Nu(e,n|1),Ge(e,se()),!(G&6)&&(vr=se()+500,dn()))}break;case 13:Rn(function(){var r=kt(t,1);if(r!==null){var s=je();at(r,t,1,s)}}),sc(t,1)}};ku=function(t){if(t.tag===13){var e=kt(t,134217728);if(e!==null){var n=je();at(e,t,134217728,n)}sc(t,134217728)}};ip=function(t){if(t.tag===13){var e=Yt(t),n=kt(t,e);if(n!==null){var r=je();at(n,t,e,r)}sc(t,e)}};op=function(){return B};lp=function(t,e){var n=B;try{return B=t,e()}finally{B=n}};ca=function(t,e,n){switch(e){case"input":if(ra(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ao(r);if(!s)throw Error(C(90));Ff(r),ra(r,s)}}}break;case"textarea":zf(t,n);break;case"select":e=n.value,e!=null&&rr(t,!!n.multiple,e,!1)}};Qf=Zu;Kf=Rn;var J_={usingClientEntryPoint:!1,Events:[Hs,Yn,Ao,Hf,$f,Zu]},Wr={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z_={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xf(t),t===null?null:t.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||q_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wi.isDisabled&&wi.supportsFiber)try{Io=wi.inject(Z_),pt=wi}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J_;$e.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oc(e))throw Error(C(200));return Y_(t,e,null,n)};$e.createRoot=function(t,e){if(!oc(t))throw Error(C(299));var n=!1,r="",s=Pm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rc(t,1,!1,null,null,n,!1,r,s),t[Nt]=e.current,ws(t.nodeType===8?t.parentNode:t),new ic(e)};$e.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Xf(e),t=t===null?null:t.stateNode,t};$e.flushSync=function(t){return Rn(t)};$e.hydrate=function(t,e,n){if(!Bo(e))throw Error(C(200));return Wo(null,t,e,!0,n)};$e.hydrateRoot=function(t,e,n){if(!oc(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Pm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Im(e,null,t,1,n??null,s,!1,i,o),t[Nt]=e.current,ws(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zo(e)};$e.render=function(t,e,n){if(!Bo(e))throw Error(C(200));return Wo(null,t,e,!1,n)};$e.unmountComponentAtNode=function(t){if(!Bo(t))throw Error(C(40));return t._reactRootContainer?(Rn(function(){Wo(null,null,t,!1,function(){t._reactRootContainer=null,t[Nt]=null})}),!0):!1};$e.unstable_batchedUpdates=Zu;$e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bo(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Wo(t,e,n,!1,r)};$e.version="18.3.1-next-f1338f8080-20240426";function Rm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rm)}catch(t){console.error(t)}}Rm(),Rf.exports=$e;var e0=Rf.exports,eh=e0;ql.createRoot=eh.createRoot,ql.hydrateRoot=eh.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}var Wt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wt||(Wt={}));const th="popstate";function t0(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:a=""}=On(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ua("",{pathname:o,search:l,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=s.location.href,c=a.indexOf("#");l=c===-1?a:a.slice(0,c)}return l+"#"+(typeof i=="string"?i:oo(i))}function r(s,i){Uo(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return r0(e,n,r,t)}function ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Uo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n0(){return Math.random().toString(36).substr(2,8)}function nh(t,e){return{usr:t.state,key:t.key,idx:e}}function Ua(t,e,n,r){return n===void 0&&(n=null),Ps({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?On(e):e,{state:n,key:e&&e.key||r||n0()})}function oo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function On(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function r0(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Wt.Pop,a=null,c=h();c==null&&(c=0,o.replaceState(Ps({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){l=Wt.Pop;let x=h(),m=x==null?null:x-c;c=x,a&&a({action:l,location:_.location,delta:m})}function f(x,m){l=Wt.Push;let p=Ua(_.location,x,m);n&&n(p,x),c=h()+1;let g=nh(p,c),w=_.createHref(p);try{o.pushState(g,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(w)}i&&a&&a({action:l,location:_.location,delta:1})}function y(x,m){l=Wt.Replace;let p=Ua(_.location,x,m);n&&n(p,x),c=h();let g=nh(p,c),w=_.createHref(p);o.replaceState(g,"",w),i&&a&&a({action:l,location:_.location,delta:0})}function v(x){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof x=="string"?x:oo(x);return p=p.replace(/ $/,"%20"),ne(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let _={get action(){return l},get location(){return t(s,o)},listen(x){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(th,d),a=x,()=>{s.removeEventListener(th,d),a=null}},createHref(x){return e(s,x)},createURL:v,encodeLocation(x){let m=v(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:y,go(x){return o.go(x)}};return _}var rh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rh||(rh={}));function s0(t,e,n){return n===void 0&&(n="/"),i0(t,e,n)}function i0(t,e,n,r){let s=typeof e=="string"?On(e):e,i=_r(s.pathname||"/",n);if(i==null)return null;let o=jm(t);o0(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=y0(i);l=m0(o[a],c)}return l}function jm(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(ne(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=Xt([r,a.relativePath]),h=n.concat(a);i.children&&i.children.length>0&&(ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jm(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:f0(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of Am(i.path))s(i,o,a)}),e}function Am(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Am(r.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function o0(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p0(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l0=/^:[\w-]+$/,a0=3,u0=2,c0=1,d0=10,h0=-2,sh=t=>t==="*";function f0(t,e){let n=t.split("/"),r=n.length;return n.some(sh)&&(r+=h0),e&&(r+=u0),n.filter(s=>!sh(s)).reduce((s,i)=>s+(l0.test(i)?a0:i===""?c0:d0),r)}function p0(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function m0(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],c=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=Va({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},h),f=a.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Xt([i,d.pathname]),pathnameBase:S0(Xt([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Xt([i,d.pathnameBase]))}return o}function Va(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=g0(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:y}=h;if(f==="*"){let _=l[d]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const v=l[d];return y&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function g0(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Uo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function y0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Uo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _r(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const v0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_0=t=>v0.test(t);function w0(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?On(t):t,i;if(n)if(_0(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Uo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=ih(n.substring(1),"/"):i=ih(n,e)}else i=e;return{pathname:i,search:C0(r),hash:E0(s)}}function ih(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ml(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dm(t,e){let n=x0(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lm(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=On(t):(s=Ps({},t),ne(!s.pathname||!s.pathname.includes("?"),Ml("?","pathname","search",s)),ne(!s.pathname||!s.pathname.includes("#"),Ml("#","pathname","hash",s)),ne(!s.search||!s.search.includes("#"),Ml("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}l=d>=0?e[d]:"/"}let a=w0(s,l),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||h)&&(a.pathname+="/"),a}const Xt=t=>t.join("/").replace(/\/\/+/g,"/"),S0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,E0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function N0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Mm=["post","put","patch","delete"];new Set(Mm);const k0=["get",...Mm];new Set(k0);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rs.apply(this,arguments)}const Vo=S.createContext(null),Om=S.createContext(null),hn=S.createContext(null),Ho=S.createContext(null),bn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),bm=S.createContext(null);function T0(t,e){let{relative:n}=e===void 0?{}:e;Qs()||ne(!1);let{basename:r,navigator:s}=S.useContext(hn),{hash:i,pathname:o,search:l}=$o(t,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:Xt([r,o])),s.createHref({pathname:a,search:l,hash:i})}function Qs(){return S.useContext(Ho)!=null}function Tr(){return Qs()||ne(!1),S.useContext(Ho).location}function Fm(t){S.useContext(hn).static||S.useLayoutEffect(t)}function I0(){let{isDataRoute:t}=S.useContext(bn);return t?B0():P0()}function P0(){Qs()||ne(!1);let t=S.useContext(Vo),{basename:e,future:n,navigator:r}=S.useContext(hn),{matches:s}=S.useContext(bn),{pathname:i}=Tr(),o=JSON.stringify(Dm(s,n.v7_relativeSplatPath)),l=S.useRef(!1);return Fm(()=>{l.current=!0}),S.useCallback(function(c,h){if(h===void 0&&(h={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let d=Lm(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Xt([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,i,t])}function $o(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(hn),{matches:s}=S.useContext(bn),{pathname:i}=Tr(),o=JSON.stringify(Dm(s,r.v7_relativeSplatPath));return S.useMemo(()=>Lm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function R0(t,e){return j0(t,e)}function j0(t,e,n,r){Qs()||ne(!1);let{navigator:s}=S.useContext(hn),{matches:i}=S.useContext(bn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let c=Tr(),h;if(e){var d;let x=typeof e=="string"?On(e):e;a==="/"||(d=x.pathname)!=null&&d.startsWith(a)||ne(!1),h=x}else h=c;let f=h.pathname||"/",y=f;if(a!=="/"){let x=a.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=s0(t,{pathname:y}),_=O0(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Xt([a,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:Xt([a,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&_?S.createElement(Ho.Provider,{value:{location:Rs({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Wt.Pop}},_):_}function A0(){let t=z0(),e=N0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,null)}const D0=S.createElement(A0,null);class L0 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(bn.Provider,{value:this.props.routeContext},S.createElement(bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function M0(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(Vo);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(bn.Provider,{value:e},r)}function O0(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||ne(!1),o=o.slice(0,Math.min(o.length,h+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:y}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||v){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let y,v=!1,_=null,x=null;n&&(y=l&&d.route.id?l[d.route.id]:void 0,_=d.route.errorElement||D0,a&&(c<0&&f===0?(W0("route-fallback"),v=!0,x=null):c===f&&(v=!0,x=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),p=()=>{let g;return y?g=_:v?g=x:d.route.Component?g=S.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=h,S.createElement(M0,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(L0,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Gm=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Gm||{}),zm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zm||{});function b0(t){let e=S.useContext(Vo);return e||ne(!1),e}function F0(t){let e=S.useContext(Om);return e||ne(!1),e}function G0(t){let e=S.useContext(bn);return e||ne(!1),e}function Bm(t){let e=G0(),n=e.matches[e.matches.length-1];return n.route.id||ne(!1),n.route.id}function z0(){var t;let e=S.useContext(bm),n=F0(),r=Bm();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function B0(){let{router:t}=b0(Gm.UseNavigateStable),e=Bm(zm.UseNavigateStable),n=S.useRef(!1);return Fm(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Rs({fromRouteId:e},i)))},[t,e])}const oh={};function W0(t,e,n){oh[t]||(oh[t]=!0)}function U0(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Un(t){ne(!1)}function V0(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Wt.Pop,navigator:i,static:o=!1,future:l}=t;Qs()&&ne(!1);let a=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:a,navigator:i,static:o,future:Rs({v7_relativeSplatPath:!1},l)}),[a,l,i,o]);typeof r=="string"&&(r=On(r));let{pathname:h="/",search:d="",hash:f="",state:y=null,key:v="default"}=r,_=S.useMemo(()=>{let x=_r(h,a);return x==null?null:{location:{pathname:x,search:d,hash:f,state:y,key:v},navigationType:s}},[a,h,d,f,y,v,s]);return _==null?null:S.createElement(hn.Provider,{value:c},S.createElement(Ho.Provider,{children:n,value:_}))}function H0(t){let{children:e,location:n}=t;return R0(Ha(e),n)}new Promise(()=>{});function Ha(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,Ha(r.props.children,i));return}r.type!==Un&&ne(!1),!r.props.index||!r.props.children||ne(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ha(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lo(){return lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lo.apply(this,arguments)}function Wm(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function $0(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Q0(t,e){return t.button===0&&(!e||e==="_self")&&!$0(t)}const K0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],q0="6";try{window.__reactRouterVersion=q0}catch{}const X0=S.createContext({isTransitioning:!1}),J0="startTransition",lh=Uy[J0];function Z0(t){let{basename:e,children:n,future:r,window:s}=t,i=S.useRef();i.current==null&&(i.current=t0({window:s,v5Compat:!0}));let o=i.current,[l,a]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=S.useCallback(d=>{c&&lh?lh(()=>a(d)):a(d)},[a,c]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.useEffect(()=>U0(r),[r]),S.createElement(V0,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const e1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=S.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:a,to:c,preventScrollReset:h,viewTransition:d}=e,f=Wm(e,K0),{basename:y}=S.useContext(hn),v,_=!1;if(typeof c=="string"&&t1.test(c)&&(v=c,e1))try{let g=new URL(window.location.href),w=c.startsWith("//")?new URL(g.protocol+c):new URL(c),E=_r(w.pathname,y);w.origin===g.origin&&E!=null?c=E+w.search+w.hash:_=!0}catch{}let x=T0(c,{relative:s}),m=s1(c,{replace:o,state:l,target:a,preventScrollReset:h,relative:s,viewTransition:d});function p(g){r&&r(g),g.defaultPrevented||m(g)}return S.createElement("a",lo({},f,{href:v||x,onClick:_||i?r:p,ref:n,target:a}))}),n1=S.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:a,viewTransition:c,children:h}=e,d=Wm(e,Y0),f=$o(a,{relative:d.relative}),y=Tr(),v=S.useContext(Om),{navigator:_,basename:x}=S.useContext(hn),m=v!=null&&i1(f)&&c===!0,p=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,g=y.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(g=g.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&x&&(w=_r(w,x)||w);const E=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let k=g===p||!o&&g.startsWith(p)&&g.charAt(E)==="/",P=w!=null&&(w===p||!o&&w.startsWith(p)&&w.charAt(p.length)==="/"),R={isActive:k,isPending:P,isTransitioning:m},U=k?r:void 0,A;typeof i=="function"?A=i(R):A=[i,k?"active":null,P?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let xe=typeof l=="function"?l(R):l;return S.createElement(Pe,lo({},d,{"aria-current":U,className:A,ref:n,style:xe,to:a,viewTransition:c}),typeof h=="function"?h(R):h)});var $a;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($a||($a={}));var ah;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ah||(ah={}));function r1(t){let e=S.useContext(Vo);return e||ne(!1),e}function s1(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,a=I0(),c=Tr(),h=$o(t,{relative:o});return S.useCallback(d=>{if(Q0(d,n)){d.preventDefault();let f=r!==void 0?r:oo(c)===oo(h);a(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,a,h,r,s,n,t,i,o,l])}function i1(t,e){e===void 0&&(e={});let n=S.useContext(X0);n==null&&ne(!1);let{basename:r}=r1($a.useViewTransitionState),s=$o(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=_r(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=_r(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Va(s.pathname,o)!=null||Va(s.pathname,i)!=null}const zn={tournament:{name:"eFootball Tournament",season:"Spring 2026",tagline:"Legends Start Here",stage:"Group Stage  Last 8",qualifyRule:"Top 2 each group + Best 2 third-place  Last 8",pointsRule:"Best-of-3: 2-0 = 3/0 pts, 2-1 = 2/1 pts",tiebreakers:["PTS","GD","GF"]},players:[{id:"A1",name:"1AUTO1",group:"A"},{id:"A2",name:"Dra-Gon",group:"A"},{id:"A3",name:"Glanelalala",group:"A"},{id:"A4",name:"WinMeLbey",group:"A"},{id:"B1",name:"K-Vinn",group:"B"},{id:"B2",name:"Max-88",group:"B"},{id:"B3",name:"Reach OMG",group:"B"},{id:"B4",name:"so respec1",group:"B"},{id:"C1",name:"Petter-027",group:"C"},{id:"C2",name:"Player C2",group:"C"},{id:"C3",name:"Player C3",group:"C"},{id:"C4",name:"Player C4",group:"C"}],matches:[{id:"GA1",group:"A",home:"A1",away:"A2",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GA2",group:"A",home:"A3",away:"A4",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GA3",group:"A",home:"A1",away:"A3",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GA4",group:"A",home:"A2",away:"A4",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GA5",group:"A",home:"A1",away:"A4",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GA6",group:"A",home:"A2",away:"A3",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GB1",group:"B",home:"B1",away:"B2",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GB2",group:"B",home:"B3",away:"B4",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GB3",group:"B",home:"B1",away:"B3",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GB4",group:"B",home:"B2",away:"B4",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GB5",group:"B",home:"B1",away:"B4",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GB6",group:"B",home:"B2",away:"B3",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GC1",group:"C",home:"C1",away:"C2",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GC2",group:"C",home:"C3",away:"C4",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GC3",group:"C",home:"C1",away:"C3",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GC4",group:"C",home:"C2",away:"C4",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GC5",group:"C",home:"C1",away:"C4",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1},{id:"GC6",group:"C",home:"C2",away:"C3",games:[{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null},{homeGoals:null,awayGoals:null}],played:!1}],knockout:{qf:[],sf:[],f:[]}},lc="efootball_dashboard_v1";function uh(t){try{const e=localStorage.getItem(lc);if(!e)return t;const n=JSON.parse(e);return!n.players||!n.matches?t:n}catch{return t}}function Ol(t){localStorage.setItem(lc,JSON.stringify(t))}function ch(t){return localStorage.setItem(lc,JSON.stringify(t)),t}const o1=()=>{};var dh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(t,e){if(!t)throw Ir(e)},Ir=function(t){return new Error("Firebase Database ("+Um.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},l1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ac={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,h=i>>2,d=(i&3)<<4|l>>4;let f=(l&15)<<2|c>>6,y=c&63;a||(y=64,o||(f=64)),r.push(n[h],n[d],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||d==null)throw new a1;const f=i<<2|l>>4;if(r.push(f),c!==64){const y=l<<4&240|c>>2;if(r.push(y),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hm=function(t){const e=Vm(t);return ac.encodeByteArray(e,!0)},ao=function(t){return Hm(t).replace(/\./g,"")},Qa=function(t){try{return ac.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){return $m(void 0,t)}function $m(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!c1(n)||(t[n]=$m(t[n],e[n]));return t}function c1(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=()=>d1().__FIREBASE_DEFAULTS__,f1=()=>{if(typeof process>"u"||typeof dh>"u")return;const t=dh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},p1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qa(t[1]);return e&&JSON.parse(e)},Qm=()=>{try{return o1()||h1()||f1()||p1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},m1=t=>{var e,n;return(n=(e=Qm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},g1=t=>{const e=m1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Km=()=>{var t;return(t=Qm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ao(JSON.stringify(n)),ao(JSON.stringify(o)),""].join(".")}const os={};function _1(){const t={prod:[],emulator:[]};for(const e of Object.keys(os))os[e]?t.emulator.push(e):t.prod.push(e);return t}function w1(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hh=!1;function x1(t,e){if(typeof window>"u"||typeof document>"u"||!uc(window.location.host)||os[t]===e||os[t]||hh)return;os[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=_1().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function a(f,y){f.setAttribute("width","24"),f.setAttribute("id",y),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{hh=!0,o()},f}function h(f,y){f.setAttribute("id",y),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=w1(r),y=n("text"),v=document.getElementById(y)||document.createElement("span"),_=n("learnmore"),x=document.getElementById(_)||document.createElement("a"),m=n("preprendIcon"),p=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const g=f.element;l(g),h(x,_);const w=c();a(p,m),g.append(p,v,x,w),document.body.appendChild(g)}i?(v.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ym(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S1())}function C1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E1(){return Um.NODE_ADMIN===!0}function N1(){try{return typeof indexedDB=="object"}catch{return!1}}function k1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="FirebaseError";class Ks extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=T1,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qm.prototype.create)}}class qm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?I1(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Ks(s,l,r)}}function I1(t,e){return t.replace(P1,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const P1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t){return JSON.parse(t)}function le(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=js(Qa(i[0])||""),n=js(Qa(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},R1=function(t){const e=Xm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},j1=function(t){const e=Xm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function fh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uo(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function co(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(ph(i)&&ph(o)){if(!co(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ph(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,h;for(let d=0;d<80;d++){d<40?d<20?(c=l^i&(o^l),h=1518500249):(c=i^o^l,h=1859775393):d<60?(c=i&o|l&(i|o),h=2400959708):(c=i^o^l,h=3395469782);const f=(s<<5|s>>>27)+c+a+h+r[d]&4294967295;a=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function cc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,N(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ko=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b1(e))try{this.getOrInitializeService({instanceIdentifier:yn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=yn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yn){return this.instances.has(e)}getOptions(e=yn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yn){return this.component?this.component.multipleInstances?e:yn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O1(t){return t===yn?void 0:t}function b1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(V||(V={}));const G1={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},z1=V.INFO,B1={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},W1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=B1[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=z1,this._logHandler=W1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in V))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...e),this._logHandler(this,V.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...e),this._logHandler(this,V.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,V.INFO,...e),this._logHandler(this,V.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,V.WARN,...e),this._logHandler(this,V.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...e),this._logHandler(this,V.ERROR,...e)}}const U1=(t,e)=>e.some(n=>t instanceof n);let mh,gh;function V1(){return mh||(mh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H1(){return gh||(gh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zm=new WeakMap,Ka=new WeakMap,eg=new WeakMap,bl=new WeakMap,dc=new WeakMap;function $1(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Jt(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Zm.set(n,t)}).catch(()=>{}),dc.set(e,t),e}function Q1(t){if(Ka.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ka.set(t,e)}let Ya={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ka.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K1(t){Ya=t(Ya)}function Y1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fl(this),e,...n);return eg.set(r,e.sort?e.sort():[e]),Jt(r)}:H1().includes(t)?function(...e){return t.apply(Fl(this),e),Jt(Zm.get(this))}:function(...e){return Jt(t.apply(Fl(this),e))}}function q1(t){return typeof t=="function"?Y1(t):(t instanceof IDBTransaction&&Q1(t),U1(t,V1())?new Proxy(t,Ya):t)}function Jt(t){if(t instanceof IDBRequest)return $1(t);if(bl.has(t))return bl.get(t);const e=q1(t);return e!==t&&(bl.set(t,e),dc.set(e,t)),e}const Fl=t=>dc.get(t);function X1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Jt(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Jt(o.result),a.oldVersion,a.newVersion,Jt(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const J1=["get","getKey","getAll","getAllKeys","count"],Z1=["put","add","delete","clear"],Gl=new Map;function yh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gl.get(e))return Gl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Z1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||J1.includes(n)))return;const i=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&a.done]))[0]};return Gl.set(e,i),i}K1(t=>({...t,get:(e,n,r)=>yh(e,n)||t.get(e,n,r),has:(e,n)=>!!yh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qa="@firebase/app",vh="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It=new Jm("@firebase/app"),nw="@firebase/app-compat",rw="@firebase/analytics-compat",sw="@firebase/analytics",iw="@firebase/app-check-compat",ow="@firebase/app-check",lw="@firebase/auth",aw="@firebase/auth-compat",uw="@firebase/database",cw="@firebase/data-connect",dw="@firebase/database-compat",hw="@firebase/functions",fw="@firebase/functions-compat",pw="@firebase/installations",mw="@firebase/installations-compat",gw="@firebase/messaging",yw="@firebase/messaging-compat",vw="@firebase/performance",_w="@firebase/performance-compat",ww="@firebase/remote-config",xw="@firebase/remote-config-compat",Sw="@firebase/storage",Cw="@firebase/storage-compat",Ew="@firebase/firestore",Nw="@firebase/ai",kw="@firebase/firestore-compat",Tw="firebase",Iw="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]",Pw={[qa]:"fire-core",[nw]:"fire-core-compat",[sw]:"fire-analytics",[rw]:"fire-analytics-compat",[ow]:"fire-app-check",[iw]:"fire-app-check-compat",[lw]:"fire-auth",[aw]:"fire-auth-compat",[uw]:"fire-rtdb",[cw]:"fire-data-connect",[dw]:"fire-rtdb-compat",[hw]:"fire-fn",[fw]:"fire-fn-compat",[pw]:"fire-iid",[mw]:"fire-iid-compat",[gw]:"fire-fcm",[yw]:"fire-fcm-compat",[vw]:"fire-perf",[_w]:"fire-perf-compat",[ww]:"fire-rc",[xw]:"fire-rc-compat",[Sw]:"fire-gcs",[Cw]:"fire-gcs-compat",[Ew]:"fire-fst",[kw]:"fire-fst-compat",[Nw]:"fire-vertex","fire-js":"fire-js",[Tw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new Map,Rw=new Map,Ja=new Map;function _h(t,e){try{t.container.addComponent(e)}catch(n){It.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fo(t){const e=t.name;if(Ja.has(e))return It.debug(`There were multiple attempts to register component ${e}.`),!1;Ja.set(e,t);for(const n of ho.values())_h(n,t);for(const n of Rw.values())_h(n,t);return!0}function jw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Aw(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zt=new qm("app","Firebase",Dw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=Iw;function tg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Xa,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Zt.create("bad-app-name",{appName:String(s)});if(n||(n=Km()),!n)throw Zt.create("no-options");const i=ho.get(s);if(i){if(co(n,i.options)&&co(r,i.config))return i;throw Zt.create("duplicate-app",{appName:s})}const o=new F1(s);for(const a of Ja.values())o.addComponent(a);const l=new Lw(n,r,o);return ho.set(s,l),l}function Ow(t=Xa){const e=ho.get(t);if(!e&&t===Xa&&Km())return tg();if(!e)throw Zt.create("no-app",{appName:t});return e}function ur(t,e,n){let r=Pw[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),It.warn(o.join(" "));return}fo(new As(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="firebase-heartbeat-database",Fw=1,Ds="firebase-heartbeat-store";let zl=null;function ng(){return zl||(zl=X1(bw,Fw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ds)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zt.create("idb-open",{originalErrorMessage:t.message})})),zl}async function Gw(t){try{const n=(await ng()).transaction(Ds),r=await n.objectStore(Ds).get(rg(t));return await n.done,r}catch(e){if(e instanceof Ks)It.warn(e.message);else{const n=Zt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});It.warn(n.message)}}}async function wh(t,e){try{const r=(await ng()).transaction(Ds,"readwrite");await r.objectStore(Ds).put(e,rg(t)),await r.done}catch(n){if(n instanceof Ks)It.warn(n.message);else{const r=Zt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});It.warn(r.message)}}}function rg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=1024,Bw=30;class Ww{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xh();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Bw){const o=Hw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){It.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xh(),{heartbeatsToSend:r,unsentEntries:s}=Uw(this._heartbeatsCache.heartbeats),i=ao(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return It.warn(n),""}}}function xh(){return new Date().toISOString().substring(0,10)}function Uw(t,e=zw){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Sh(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Sh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Vw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N1()?k1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Sh(t){return ao(JSON.stringify({version:2,heartbeats:t})).length}function Hw(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){fo(new As("platform-logger",e=>new ew(e),"PRIVATE")),fo(new As("heartbeat",e=>new Ww(e),"PRIVATE")),ur(qa,vh,t),ur(qa,vh,"esm2020"),ur("fire-js","")}$w("");var Ch={};const Eh="@firebase/database",Nh="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sg="";function Qw(t){sg=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),le(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:js(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return jt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Kw(e)}}catch{}return new Yw},Sn=ig("localStorage"),qw=ig("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new Jm("@firebase/database"),Xw=function(){let t=1;return function(){return t++}}(),og=function(t){const e=L1(t),n=new D1;n.update(e);const r=n.digest();return ac.encodeByteArray(r)},Ys=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ys.apply(null,r):typeof r=="object"?e+=le(r):e+=r,e+=" "}return e};let ls=null,kh=!0;const Jw=function(t,e){N(!0,"Can't turn on custom loggers persistently."),cr.logLevel=V.VERBOSE,ls=cr.log.bind(cr)},Ne=function(...t){if(kh===!0&&(kh=!1,ls===null&&qw.get("logging_enabled")===!0&&Jw()),ls){const e=Ys.apply(null,t);ls(e)}},qs=function(t){return function(...e){Ne(t,...e)}},Za=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ys(...t);cr.error(e)},Pt=function(...t){const e=`FIREBASE FATAL ERROR: ${Ys(...t)}`;throw cr.error(e),new Error(e)},ze=function(...t){const e="FIREBASE WARNING: "+Ys(...t);cr.warn(e)},Zw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ze("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ex=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},xr="[MIN_NAME]",jn="[MAX_NAME]",Rr=function(t,e){if(t===e)return 0;if(t===xr||e===jn)return-1;if(e===xr||t===jn)return 1;{const n=Th(t),r=Th(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},tx=function(t,e){return t===e?0:t<e?-1:1},Ur=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+le(e))},hc=function(t){if(typeof t!="object"||t===null)return le(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=le(e[r]),n+=":",n+=hc(t[e[r]]);return n+="}",n},ag=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Be(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ug=function(t){N(!lg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,a;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const h=c.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(h.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},nx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const ix=new RegExp("^-?(0*)\\d{1,10}$"),ox=-2147483648,lx=2147483647,Th=function(t){if(ix.test(t)){const e=Number(t);if(e>=ox&&e<=lx)return e}return null},jr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ze("Exception was thrown by user callback.",n),e},Math.floor(0))}},ax=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},as=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Aw(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ze(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ne("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ze(e)}}class Mi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Mi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="5",cg="v",dg="s",hg="r",fg="f",pg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mg="ls",gg="p",eu="ac",yg="websocket",vg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,s,i=!1,o="",l=!1,a=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Sn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Sn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function dx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function wg(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(e===yg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===vg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);dx(t)&&(n.ns=t.namespace);const s=[];return Be(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.counters_={}}incrementCounter(e,n=1){jt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return u1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl={},Wl={};function pc(t){const e=t.toString();return Bl[e]||(Bl[e]=new hx),Bl[e]}function fx(t,e){const n=t.toString();return Wl[n]||(Wl[n]=e()),Wl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&jr(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="start",mx="close",gx="pLPCommand",yx="pRTLPCB",xg="id",Sg="pw",Cg="ser",vx="cb",_x="seg",wx="ts",xx="d",Sx="dframe",Eg=1870,Ng=30,Cx=Eg-Ng,Ex=25e3,Nx=3e4;class nr{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qs(e),this.stats_=pc(n),this.urlFn=a=>(this.appCheckToken&&(a[eu]=this.appCheckToken),wg(n,vg,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new px(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Nx)),ex(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mc((...i)=>{const[o,l,a,c,h]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Ih)this.id=l,this.password=a;else if(o===mx)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Ih]="t",r[Cg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[vx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[cg]=fc,this.transportSessionId&&(r[dg]=this.transportSessionId),this.lastSessionId&&(r[mg]=this.lastSessionId),this.applicationId&&(r[gg]=this.applicationId),this.appCheckToken&&(r[eu]=this.appCheckToken),typeof location<"u"&&location.hostname&&pg.test(location.hostname)&&(r[hg]=fg);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nr.forceAllow_=!0}static forceDisallow(){nr.forceDisallow_=!0}static isAvailable(){return nr.forceAllow_?!0:!nr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nx()&&!rx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Hm(n),s=ag(r,Cx);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Sx]="t",r[xg]=e,r[Sg]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=le(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class mc{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Xw(),window[gx+this.uniqueCallbackIdentifier]=e,window[yx+this.uniqueCallbackIdentifier]=n,this.myIFrame=mc.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ne("frame writing exception"),l.stack&&Ne(l.stack),Ne(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ne("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[xg]=this.myID,e[Sg]=this.myPW,e[Cg]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ng+r.length<=Eg;){const o=this.pendingSegs.shift();r=r+"&"+_x+s+"="+o.seg+"&"+wx+s+"="+o.ts+"&"+xx+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Ex)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ne("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=16384,Tx=45e3;let po=null;typeof MozWebSocket<"u"?po=MozWebSocket:typeof WebSocket<"u"&&(po=WebSocket);class st{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qs(this.connId),this.stats_=pc(n),this.connURL=st.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[cg]=fc,typeof location<"u"&&location.hostname&&pg.test(location.hostname)&&(o[hg]=fg),n&&(o[dg]=n),r&&(o[mg]=r),s&&(o[eu]=s),i&&(o[gg]=i),wg(e,yg,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Sn.set("previous_websocket_failure",!0);try{let r;E1(),this.mySock=new po(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){st.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&po!==null&&!st.forceDisallow_}static previouslyFailed(){return Sn.isInMemoryStorage||Sn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Sn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=js(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(N(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ag(n,kx);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Tx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}st.responsesRequiredToBeHealthy=2;st.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{static get ALL_TRANSPORTS(){return[nr,st]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=st&&st.isAvailable();let r=n&&!st.previouslyFailed();if(e.webSocketOnly&&(n||ze("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[st];else{const s=this.transports_=[];for(const i of Ls.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Ls.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ls.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=6e4,Px=5e3,Rx=10*1024,jx=100*1024,Ul="t",Ph="d",Ax="s",Rh="r",Dx="e",jh="o",Ah="a",Dh="n",Lh="p",Lx="h";class Mx{constructor(e,n,r,s,i,o,l,a,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qs("c:"+this.id+":"),this.transportManager_=new Ls(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=as(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Rx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ul in e){const n=e[Ul];n===Ah?this.upgradeIfSecondaryHealthy_():n===Rh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ur("t",e),r=Ur("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Lh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ah,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Dh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ur("t",e),r=Ur("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ur(Ul,e);if(Ph in e){const r=e[Ph];if(n===Lx){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Dh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ax?this.onConnectionShutdown_(r):n===Rh?this.onReset_(r):n===Dx?Za("Server Error: "+r):n===jh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Za("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),fc!==r&&ze("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),as(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ix))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):as(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Px))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Lh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Sn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends Tg{static getInstance(){return new mo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ym()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=32,Oh=768;class W{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function z(){return new W("")}function M(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function sn(t){return t.pieces_.length-t.pieceNum_}function H(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new W(t.pieces_,e)}function Ig(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ox(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Pg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Rg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new W(e,0)}function ae(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof W)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new W(n,0)}function b(t){return t.pieceNum_>=t.pieces_.length}function Re(t,e){const n=M(t),r=M(e);if(n===null)return e;if(n===r)return Re(H(t),H(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gc(t,e){if(sn(t)!==sn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function it(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(sn(t)>sn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class bx{constructor(e,n){this.errorPrefix_=n,this.parts_=Pg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ko(this.parts_[r]);jg(this)}}function Fx(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ko(e),jg(t)}function Gx(t){const e=t.parts_.pop();t.byteLength_-=Ko(e),t.parts_.length>0&&(t.byteLength_-=1)}function jg(t){if(t.byteLength_>Oh)throw new Error(t.errorPrefix_+"has a key path longer than "+Oh+" bytes ("+t.byteLength_+").");if(t.parts_.length>Mh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Mh+") or object contains a cycle "+vn(t))}function vn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Tg{static getInstance(){return new yc}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=1e3,zx=60*5*1e3,bh=30*1e3,Bx=1.3,Wx=3e4,Ux="server_kill",Fh=3;class Ct extends kg{constructor(e,n,r,s,i,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Ct.nextPersistentConnectionId_++,this.log_=qs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vr,this.maxReconnectDelay_=zx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&mo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(le(i)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Qo,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const a=l.d,c=l.s;Ct.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&jt(e,"w")){const r=wr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();ze(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||j1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=R1(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+le(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Za("Unrecognized action received from server: "+le(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Wx&&(this.reconnectDelay_=Vr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Bx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ct.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},c=function(d){N(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Ne("getToken() completed but was canceled"):(Ne("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new Mx(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{ze(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ux)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ze(d),a())}}}interrupt(e){Ne("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ne("Resuming connection for reason: "+e),delete this.interruptReasons_[e],fh(this.interruptReasons_)&&(this.reconnectDelay_=Vr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>hc(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new W(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Ne("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fh&&(this.reconnectDelay_=bh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ne("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+sg.replace(/\./g,"-")]=1,Ym()?e["framework.cordova"]=1:C1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mo.getInstance().currentlyOnline();return fh(this.interruptReasons_)&&e}}Ct.nextPersistentConnectionId_=0;Ct.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new O(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new O(xr,e),s=new O(xr,n);return this.compare(r,s)!==0}minPost(){return O.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xi;class Ag extends Yo{static get __EMPTY_NODE(){return xi}static set __EMPTY_NODE(e){xi=e}compare(e,n){return Rr(e.name,n.name)}isDefinedOn(e){throw Ir("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return O.MIN}maxPost(){return new O(jn,xi)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new O(e,xi)}toString(){return".key"}}const dr=new Ag;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class pe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pe.RED,this.left=s??Oe.EMPTY_NODE,this.right=i??Oe.EMPTY_NODE}copy(e,n,r,s,i){return new pe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Oe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Oe.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}pe.RED=!0;pe.BLACK=!1;class Vx{copy(e,n,r,s,i){return this}insert(e,n,r){return new pe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Oe{constructor(e,n=Oe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Oe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,pe.BLACK,null,null))}remove(e){return new Oe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Si(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Si(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Si(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Si(this.root_,null,this.comparator_,!0,e)}}Oe.EMPTY_NODE=new Vx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e){return Rr(t.name,e.name)}function vc(t,e){return Rr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu;function $x(t){tu=t}const Dg=function(t){return typeof t=="number"?"number:"+ug(t):"string:"+t},Lg=function(t){if(t.isLeafNode()){const e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&jt(e,".sv"),"Priority must be a string or number.")}else N(t===tu||t.isEmpty(),"priority of unexpected type.");N(t===tu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh;class he{static set __childrenNodeConstructor(e){Gh=e}static get __childrenNodeConstructor(){return Gh}constructor(e,n=he.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Lg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new he(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:he.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return b(e)?this:M(e)===".priority"?this.priorityNode_:he.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:he.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=M(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(N(r!==".priority"||sn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,he.__childrenNodeConstructor.EMPTY_NODE.updateChild(H(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Dg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ug(this.value_):e+=this.value_,this.lazyHash_=og(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===he.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof he.__childrenNodeConstructor?-1:(N(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=he.VALUE_TYPE_ORDER.indexOf(n),i=he.VALUE_TYPE_ORDER.indexOf(r);return N(s>=0,"Unknown leaf type: "+n),N(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}he.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg,Og;function Qx(t){Mg=t}function Kx(t){Og=t}class Yx extends Yo{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Rr(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return O.MIN}maxPost(){return new O(jn,new he("[PRIORITY-POST]",Og))}makePost(e,n){const r=Mg(e);return new O(n,new he("[PRIORITY-POST]",r))}toString(){return".priority"}}const te=new Yx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=Math.log(2);class Xx{constructor(e){const n=i=>parseInt(Math.log(i)/qx,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const go=function(t,e,n,r){t.sort(e);const s=function(a,c){const h=c-a;let d,f;if(h===0)return null;if(h===1)return d=t[a],f=n?n(d):d,new pe(f,d.node,pe.BLACK,null,null);{const y=parseInt(h/2,10)+a,v=s(a,y),_=s(y+1,c);return d=t[y],f=n?n(d):d,new pe(f,d.node,pe.BLACK,v,_)}},i=function(a){let c=null,h=null,d=t.length;const f=function(v,_){const x=d-v,m=d;d-=v;const p=s(x+1,m),g=t[x],w=n?n(g):g;y(new pe(w,g.node,_,null,p))},y=function(v){c?(c.left=v,c=v):(h=v,c=v)};for(let v=0;v<a.count;++v){const _=a.nextBitIsOne(),x=Math.pow(2,a.count-(v+1));_?f(x,pe.BLACK):(f(x,pe.BLACK),f(x,pe.RED))}return h},o=new Xx(t.length),l=i(o);return new Oe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl;const Bn={};class xt{static get Default(){return N(Bn&&te,"ChildrenNode.ts has not been loaded"),Vl=Vl||new xt({".priority":Bn},{".priority":te}),Vl}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=wr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Oe?n:null}hasIndex(e){return jt(this.indexSet_,e.toString())}addIndex(e,n){N(e!==dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(O.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=go(r,e.getCompare()):l=Bn;const a=e.toString(),c={...this.indexSet_};c[a]=e;const h={...this.indexes_};return h[a]=l,new xt(h,c)}addToIndexes(e,n){const r=uo(this.indexes_,(s,i)=>{const o=wr(this.indexSet_,i);if(N(o,"Missing index implementation for "+i),s===Bn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(O.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),go(l,o.getCompare())}else return Bn;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new O(e.name,l))),a.insert(e,e.node)}});return new xt(r,this.indexSet_)}removeFromIndexes(e,n){const r=uo(this.indexes_,s=>{if(s===Bn)return s;{const i=n.get(e.name);return i?s.remove(new O(e.name,i)):s}});return new xt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr;class j{static get EMPTY_NODE(){return Hr||(Hr=new j(new Oe(vc),null,xt.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Lg(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hr}updatePriority(e){return this.children_.isEmpty()?this:new j(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Hr:n}}getChild(e){const n=M(e);return n===null?this:this.getImmediateChild(n).getChild(H(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(N(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new O(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Hr:this.priorityNode_;return new j(s,o,i)}}updateChild(e,n){const r=M(e);if(r===null)return n;{N(M(e)!==".priority"||sn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(H(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(te,(o,l)=>{n[o]=l.val(e),r++,i&&j.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Dg(this.getPriority().val())+":"),this.forEachChild(te,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":og(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new O(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new O(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new O(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,O.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,O.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xs?-1:0}withIndex(e){if(e===dr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new j(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===dr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(te),s=n.getIterator(te);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===dr?null:this.indexMap_.get(e.toString())}}j.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Jx extends j{constructor(){super(new Oe(vc),j.EMPTY_NODE,xt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return j.EMPTY_NODE}isEmpty(){return!1}}const Xs=new Jx;Object.defineProperties(O,{MIN:{value:new O(xr,j.EMPTY_NODE)},MAX:{value:new O(jn,Xs)}});Ag.__EMPTY_NODE=j.EMPTY_NODE;he.__childrenNodeConstructor=j;$x(Xs);Kx(Xs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=!0;function me(t,e=null){if(t===null)return j.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new he(n,me(e))}if(!(t instanceof Array)&&Zx){const n=[];let r=!1;if(Be(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=me(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new O(o,a)))}}),n.length===0)return j.EMPTY_NODE;const i=go(n,Hx,o=>o.name,vc);if(r){const o=go(n,te.getCompare());return new j(i,me(e),new xt({".priority":o},{".priority":te}))}else return new j(i,me(e),xt.Default)}else{let n=j.EMPTY_NODE;return Be(t,(r,s)=>{if(jt(t,r)&&r.substring(0,1)!=="."){const i=me(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(me(e))}}Qx(me);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends Yo{constructor(e){super(),this.indexPath_=e,N(!b(e)&&M(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Rr(e.name,n.name):i}makePost(e,n){const r=me(e),s=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new O(n,s)}maxPost(){const e=j.EMPTY_NODE.updateChild(this.indexPath_,Xs);return new O(jn,e)}toString(){return Pg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends Yo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Rr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return O.MIN}maxPost(){return O.MAX}makePost(e,n){const r=me(e);return new O(n,r)}toString(){return".value"}}const nS=new tS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){return{type:"value",snapshotNode:t}}function Sr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ms(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Os(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function rS(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ms(n,l)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Sr(n,r)):o.trackChildChange(Os(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(te,(s,i)=>{n.hasChild(s)||r.trackChildChange(Ms(s,i))}),n.isLeafNode()||n.forEachChild(te,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Os(s,i,o))}else r.trackChildChange(Sr(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?j.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.indexedFilter_=new _c(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bs.getStartPost_(e),this.endPost_=bs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new O(n,r))||(r=j.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=j.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(j.EMPTY_NODE);const i=this;return n.forEachChild(te,(o,l)=>{i.matches(new O(o,l))||(s=s.updateImmediateChild(o,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new bs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new O(n,r))||(r=j.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=j.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=j.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(j.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const l=i.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,y)=>d(y,f)}else o=this.index_.getCompare();const l=e;N(l.numChildren()===this.limit_,"");const a=new O(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const y=f==null?1:o(f,a);if(h&&!r.isEmpty()&&y>=0)return i!=null&&i.trackChildChange(Os(n,r,d)),l.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Ms(n,d));const _=l.updateImmediateChild(n,j.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(Sr(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}}else return r.isEmpty()?e:h&&o(c,a)>=0?(i!=null&&(i.trackChildChange(Ms(c.name,c.node)),i.trackChildChange(Sr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,j.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xr}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===te}copy(){const e=new wc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iS(t){return t.loadsAllData()?new _c(t.getIndex()):t.hasLimit()?new sS(t):new bs(t)}function zh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===te?n="$priority":t.index_===nS?n="$value":t.index_===dr?n="$key":(N(t.index_ instanceof eS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=le(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=le(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+le(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=le(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+le(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Bh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==te&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends kg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=qs("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=yo.getListenId_(e,r),l={};this.listens_[o]=l;const a=zh(e._queryParams);this.restRequest_(i+".json",a,(c,h)=>{let d=h;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),wr(this.listens_,o)===l){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=yo.getListenId_(e,n);delete this.listens_[r]}get(e){const n=zh(e._queryParams),r=e._path.toString(),s=new Qo;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+A1(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=js(l.responseText)}catch{ze("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&ze("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(){return{value:null,children:new Map}}function Fg(t,e,n){if(b(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=M(e);t.children.has(r)||t.children.set(r,vo());const s=t.children.get(r);e=H(e),Fg(s,e,n)}}function nu(t,e,n){t.value!==null?n(e,t.value):lS(t,(r,s)=>{const i=new W(e.toString()+"/"+r);nu(s,i,n)})}function lS(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Be(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=10*1e3,uS=30*1e3,cS=5*60*1e3;class dS{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new aS(e);const r=Wh+(uS-Wh)*Math.random();as(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Be(e,(s,i)=>{i>0&&jt(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),as(this.reportStats_.bind(this),Math.floor(Math.random()*2*cS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ot||(ot={}));function Gg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Sc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ot.ACK_USER_WRITE,this.source=Gg()}operationForChild(e){if(b(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new W(e));return new _o(z(),n,this.revert)}}else return N(M(this.path)===e,"operationForChild called for unrelated child."),new _o(H(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.source=e,this.path=n,this.type=ot.LISTEN_COMPLETE}operationForChild(e){return b(this.path)?new Fs(this.source,z()):new Fs(this.source,H(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ot.OVERWRITE}operationForChild(e){return b(this.path)?new An(this.source,z(),this.snap.getImmediateChild(e)):new An(this.source,H(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ot.MERGE}operationForChild(e){if(b(this.path)){const n=this.children.subtree(new W(e));return n.isEmpty()?null:n.value?new An(this.source,z(),n.value):new Gs(this.source,z(),n)}else return N(M(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gs(this.source,H(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(b(e))return this.isFullyInitialized()&&!this.filtered_;const n=M(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fS(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(rS(o.childName,o.snapshotNode))}),$r(t,s,"child_removed",e,r,n),$r(t,s,"child_added",e,r,n),$r(t,s,"child_moved",i,r,n),$r(t,s,"child_changed",e,r,n),$r(t,s,"value",e,r,n),s}function $r(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,a)=>mS(t,l,a)),o.forEach(l=>{const a=pS(t,l,i);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function pS(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function mS(t,e,n){if(e.childName==null||n.childName==null)throw Ir("Should only compare child_ events.");const r=new O(e.childName,e.snapshotNode),s=new O(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e){return{eventCache:t,serverCache:e}}function us(t,e,n,r){return qo(new on(e,n,r),t.serverCache)}function zg(t,e,n,r){return qo(t.eventCache,new on(e,n,r))}function wo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Dn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl;const gS=()=>(Hl||(Hl=new Oe(tx)),Hl);class K{static fromObject(e){let n=new K(null);return Be(e,(r,s)=>{n=n.set(new W(r),s)}),n}constructor(e,n=gS()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:z(),value:this.value};if(b(e))return null;{const r=M(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(H(e),n);return i!=null?{path:ae(new W(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(b(e))return this;{const n=M(e),r=this.children.get(n);return r!==null?r.subtree(H(e)):new K(null)}}set(e,n){if(b(e))return new K(n,this.children);{const r=M(e),i=(this.children.get(r)||new K(null)).set(H(e),n),o=this.children.insert(r,i);return new K(this.value,o)}}remove(e){if(b(e))return this.children.isEmpty()?new K(null):new K(null,this.children);{const n=M(e),r=this.children.get(n);if(r){const s=r.remove(H(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new K(null):new K(this.value,i)}else return this}}get(e){if(b(e))return this.value;{const n=M(e),r=this.children.get(n);return r?r.get(H(e)):null}}setTree(e,n){if(b(e))return n;{const r=M(e),i=(this.children.get(r)||new K(null)).setTree(H(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new K(this.value,o)}}fold(e){return this.fold_(z(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(ae(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,z(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(b(e))return null;{const i=M(e),o=this.children.get(i);return o?o.findOnPath_(H(e),ae(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,z(),n)}foreachOnPath_(e,n,r){if(b(e))return this;{this.value&&r(n,this.value);const s=M(e),i=this.children.get(s);return i?i.foreachOnPath_(H(e),ae(n,s),r):new K(null)}}foreach(e){this.foreach_(z(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.writeTree_=e}static empty(){return new ut(new K(null))}}function cs(t,e,n){if(b(e))return new ut(new K(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Re(s,e);return i=i.updateChild(o,n),new ut(t.writeTree_.set(s,i))}else{const s=new K(n),i=t.writeTree_.setTree(e,s);return new ut(i)}}}function Uh(t,e,n){let r=t;return Be(n,(s,i)=>{r=cs(r,ae(e,s),i)}),r}function Vh(t,e){if(b(e))return ut.empty();{const n=t.writeTree_.setTree(e,new K(null));return new ut(n)}}function ru(t,e){return Fn(t,e)!=null}function Fn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Re(n.path,e)):null}function Hh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(te,(r,s)=>{e.push(new O(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new O(r,s.value))}),e}function en(t,e){if(b(e))return t;{const n=Fn(t,e);return n!=null?new ut(new K(n)):new ut(t.writeTree_.subtree(e))}}function su(t){return t.writeTree_.isEmpty()}function Cr(t,e){return Bg(z(),t.writeTree_,e)}function Bg(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(N(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Bg(ae(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ae(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t,e){return Hg(e,t)}function yS(t,e,n,r,s){N(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=cs(t.visibleWrites,e,n)),t.lastWriteId=r}function vS(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function _S(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&wS(l,r.path)?s=!1:it(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return xS(t),!0;if(r.snap)t.visibleWrites=Vh(t.visibleWrites,r.path);else{const l=r.children;Be(l,a=>{t.visibleWrites=Vh(t.visibleWrites,ae(r.path,a))})}return!0}else return!1}function wS(t,e){if(t.snap)return it(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&it(ae(t.path,n),e))return!0;return!1}function xS(t){t.visibleWrites=Wg(t.allWrites,SS,z()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function SS(t){return t.visible}function Wg(t,e,n){let r=ut.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)it(n,o)?(l=Re(n,o),r=cs(r,l,i.snap)):it(o,n)&&(l=Re(o,n),r=cs(r,z(),i.snap.getChild(l)));else if(i.children){if(it(n,o))l=Re(n,o),r=Uh(r,l,i.children);else if(it(o,n))if(l=Re(o,n),b(l))r=Uh(r,z(),i.children);else{const a=wr(i.children,M(l));if(a){const c=a.getChild(H(l));r=cs(r,z(),c)}}}else throw Ir("WriteRecord should have .snap or .children")}}return r}function Ug(t,e,n,r,s){if(!r&&!s){const i=Fn(t.visibleWrites,e);if(i!=null)return i;{const o=en(t.visibleWrites,e);if(su(o))return n;if(n==null&&!ru(o,z()))return null;{const l=n||j.EMPTY_NODE;return Cr(o,l)}}}else{const i=en(t.visibleWrites,e);if(!s&&su(i))return n;if(!s&&n==null&&!ru(i,z()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(it(c.path,e)||it(e,c.path))},l=Wg(t.allWrites,o,e),a=n||j.EMPTY_NODE;return Cr(l,a)}}}function CS(t,e,n){let r=j.EMPTY_NODE;const s=Fn(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(te,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=en(t.visibleWrites,e);return n.forEachChild(te,(o,l)=>{const a=Cr(en(i,new W(o)),l);r=r.updateImmediateChild(o,a)}),Hh(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=en(t.visibleWrites,e);return Hh(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function ES(t,e,n,r,s){N(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=ae(e,n);if(ru(t.visibleWrites,i))return null;{const o=en(t.visibleWrites,i);return su(o)?s.getChild(n):Cr(o,s.getChild(n))}}function NS(t,e,n,r){const s=ae(e,n),i=Fn(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=en(t.visibleWrites,s);return Cr(o,r.getNode().getImmediateChild(n))}else return null}function kS(t,e){return Fn(t.visibleWrites,e)}function TS(t,e,n,r,s,i,o){let l;const a=en(t.visibleWrites,e),c=Fn(a,z());if(c!=null)l=c;else if(n!=null)l=Cr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],d=o.getCompare(),f=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let y=f.getNext();for(;y&&h.length<s;)d(y,r)!==0&&h.push(y),y=f.getNext();return h}else return[]}function IS(){return{visibleWrites:ut.empty(),allWrites:[],lastWriteId:-1}}function xo(t,e,n,r){return Ug(t.writeTree,t.treePath,e,n,r)}function Cc(t,e){return CS(t.writeTree,t.treePath,e)}function $h(t,e,n,r){return ES(t.writeTree,t.treePath,e,n,r)}function So(t,e){return kS(t.writeTree,ae(t.treePath,e))}function PS(t,e,n,r,s,i){return TS(t.writeTree,t.treePath,e,n,r,s,i)}function Ec(t,e,n){return NS(t.writeTree,t.treePath,e,n)}function Vg(t,e){return Hg(ae(t.treePath,e),t.writeTree)}function Hg(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Os(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Ms(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Sr(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Os(r,e.snapshotNode,s.oldSnap));else throw Ir("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const $g=new jS;class Nc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new on(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ec(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Dn(this.viewCache_),i=PS(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){return{filter:t}}function DS(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function LS(t,e,n,r,s){const i=new RS;let o,l;if(n.type===ot.OVERWRITE){const c=n;c.source.fromUser?o=iu(t,e,c.path,c.snap,r,s,i):(N(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!b(c.path),o=Co(t,e,c.path,c.snap,r,s,l,i))}else if(n.type===ot.MERGE){const c=n;c.source.fromUser?o=OS(t,e,c.path,c.children,r,s,i):(N(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=ou(t,e,c.path,c.children,r,s,l,i))}else if(n.type===ot.ACK_USER_WRITE){const c=n;c.revert?o=GS(t,e,c.path,r,s,i):o=bS(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===ot.LISTEN_COMPLETE)o=FS(t,e,n.path,r,i);else throw Ir("Unknown operation type: "+n.type);const a=i.getChanges();return MS(e,o,a),{viewCache:o,changes:a}}function MS(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=wo(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(bg(wo(e)))}}function Qg(t,e,n,r,s,i){const o=e.eventCache;if(So(r,n)!=null)return e;{let l,a;if(b(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Dn(e),h=c instanceof j?c:j.EMPTY_NODE,d=Cc(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=xo(r,Dn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=M(n);if(c===".priority"){N(sn(n)===1,"Can't have a priority with additional path components");const h=o.getNode();a=e.serverCache.getNode();const d=$h(r,n,h,a);d!=null?l=t.filter.updatePriority(h,d):l=o.getNode()}else{const h=H(n);let d;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const f=$h(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(c).updateChild(h,f):d=o.getNode().getImmediateChild(c)}else d=Ec(r,c,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),c,d,h,s,i):l=o.getNode()}}return us(e,l,o.isFullyInitialized()||b(n),t.filter.filtersNodes())}}function Co(t,e,n,r,s,i,o,l){const a=e.serverCache;let c;const h=o?t.filter:t.filter.getIndexedFilter();if(b(n))c=h.updateFullNode(a.getNode(),r,null);else if(h.filtersNodes()&&!a.isFiltered()){const y=a.getNode().updateChild(n,r);c=h.updateFullNode(a.getNode(),y,null)}else{const y=M(n);if(!a.isCompleteForPath(n)&&sn(n)>1)return e;const v=H(n),x=a.getNode().getImmediateChild(y).updateChild(v,r);y===".priority"?c=h.updatePriority(a.getNode(),x):c=h.updateChild(a.getNode(),y,x,v,$g,null)}const d=zg(e,c,a.isFullyInitialized()||b(n),h.filtersNodes()),f=new Nc(s,d,i);return Qg(t,d,n,s,f,l)}function iu(t,e,n,r,s,i,o){const l=e.eventCache;let a,c;const h=new Nc(s,e,i);if(b(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=us(e,c,!0,t.filter.filtersNodes());else{const d=M(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),a=us(e,c,l.isFullyInitialized(),l.isFiltered());else{const f=H(n),y=l.getNode().getImmediateChild(d);let v;if(b(f))v=r;else{const _=h.getCompleteChild(d);_!=null?Ig(f)===".priority"&&_.getChild(Rg(f)).isEmpty()?v=_:v=_.updateChild(f,r):v=j.EMPTY_NODE}if(y.equals(v))a=e;else{const _=t.filter.updateChild(l.getNode(),d,v,f,h,o);a=us(e,_,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Qh(t,e){return t.eventCache.isCompleteForChild(e)}function OS(t,e,n,r,s,i,o){let l=e;return r.foreach((a,c)=>{const h=ae(n,a);Qh(e,M(h))&&(l=iu(t,l,h,c,s,i,o))}),r.foreach((a,c)=>{const h=ae(n,a);Qh(e,M(h))||(l=iu(t,l,h,c,s,i,o))}),l}function Kh(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function ou(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;b(n)?c=r:c=new K(null).setTree(n,r);const h=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(h.hasChild(d)){const y=e.serverCache.getNode().getImmediateChild(d),v=Kh(t,y,f);a=Co(t,a,new W(d),v,s,i,o,l)}}),c.children.inorderTraversal((d,f)=>{const y=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!h.hasChild(d)&&!y){const v=e.serverCache.getNode().getImmediateChild(d),_=Kh(t,v,f);a=Co(t,a,new W(d),_,s,i,o,l)}}),a}function bS(t,e,n,r,s,i,o){if(So(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(b(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Co(t,e,n,a.getNode().getChild(n),s,i,l,o);if(b(n)){let c=new K(null);return a.getNode().forEachChild(dr,(h,d)=>{c=c.set(new W(h),d)}),ou(t,e,n,c,s,i,l,o)}else return e}else{let c=new K(null);return r.foreach((h,d)=>{const f=ae(n,h);a.isCompleteForPath(f)&&(c=c.set(h,a.getNode().getChild(f)))}),ou(t,e,n,c,s,i,l,o)}}function FS(t,e,n,r,s){const i=e.serverCache,o=zg(e,i.getNode(),i.isFullyInitialized()||b(n),i.isFiltered());return Qg(t,o,n,r,$g,s)}function GS(t,e,n,r,s,i){let o;if(So(r,n)!=null)return e;{const l=new Nc(r,e,s),a=e.eventCache.getNode();let c;if(b(n)||M(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=xo(r,Dn(e));else{const d=e.serverCache.getNode();N(d instanceof j,"serverChildren would be complete if leaf node"),h=Cc(r,d)}h=h,c=t.filter.updateFullNode(a,h,i)}else{const h=M(n);let d=Ec(r,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=a.getImmediateChild(h)),d!=null?c=t.filter.updateChild(a,h,d,H(n),l,i):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(a,h,j.EMPTY_NODE,H(n),l,i):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=xo(r,Dn(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||So(r,z())!=null,us(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new _c(r.getIndex()),i=iS(r);this.processor_=AS(i);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(j.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(j.EMPTY_NODE,l.getNode(),null),h=new on(a,o.isFullyInitialized(),s.filtersNodes()),d=new on(c,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=qo(d,h),this.eventGenerator_=new hS(this.query_)}get query(){return this.query_}}function BS(t){return t.viewCache_.serverCache.getNode()}function WS(t){return wo(t.viewCache_)}function US(t,e){const n=Dn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!b(e)&&!n.getImmediateChild(M(e)).isEmpty())?n.getChild(e):null}function Yh(t){return t.eventRegistrations_.length===0}function VS(t,e){t.eventRegistrations_.push(e)}function qh(t,e,n){const r=[];if(n){N(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Xh(t,e,n,r){e.type===ot.MERGE&&e.source.queryId!==null&&(N(Dn(t.viewCache_),"We should always have a full cache before handling merges"),N(wo(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=LS(t.processor_,s,e,n,r);return DS(t.processor_,i.viewCache),N(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Kg(t,i.changes,i.viewCache.eventCache.getNode(),null)}function HS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(te,(i,o)=>{r.push(Sr(i,o))}),n.isFullyInitialized()&&r.push(bg(n.getNode())),Kg(t,r,n.getNode(),e)}function Kg(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return fS(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo;class Yg{constructor(){this.views=new Map}}function $S(t){N(!Eo,"__referenceConstructor has already been defined"),Eo=t}function QS(){return N(Eo,"Reference.ts has not been loaded"),Eo}function KS(t){return t.views.size===0}function kc(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return N(i!=null,"SyncTree gave us an op for an invalid query."),Xh(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(Xh(o,e,n,r));return i}}function qg(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let l=xo(n,s?r:null),a=!1;l?a=!0:r instanceof j?(l=Cc(n,r),a=!1):(l=j.EMPTY_NODE,a=!1);const c=qo(new on(l,a,!1),new on(r,s,!1));return new zS(e,c)}return o}function YS(t,e,n,r,s,i){const o=qg(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),VS(o,n),HS(o,n)}function qS(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const l=ln(t);if(s==="default")for(const[a,c]of t.views.entries())o=o.concat(qh(c,n,r)),Yh(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||i.push(c.query));else{const a=t.views.get(s);a&&(o=o.concat(qh(a,n,r)),Yh(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||i.push(a.query)))}return l&&!ln(t)&&i.push(new(QS())(e._repo,e._path)),{removed:i,events:o}}function Xg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function tn(t,e){let n=null;for(const r of t.views.values())n=n||US(r,e);return n}function Jg(t,e){if(e._queryParams.loadsAllData())return Jo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Zg(t,e){return Jg(t,e)!=null}function ln(t){return Jo(t)!=null}function Jo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No;function XS(t){N(!No,"__referenceConstructor has already been defined"),No=t}function JS(){return N(No,"Reference.ts has not been loaded"),No}let ZS=1;class Jh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new K(null),this.pendingWriteTree_=IS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ey(t,e,n,r,s){return yS(t.pendingWriteTree_,e,n,r,s),s?Zs(t,new An(Gg(),e,n)):[]}function Cn(t,e,n=!1){const r=vS(t.pendingWriteTree_,e);if(_S(t.pendingWriteTree_,e)){let i=new K(null);return r.snap!=null?i=i.set(z(),!0):Be(r.children,o=>{i=i.set(new W(o),!0)}),Zs(t,new _o(r.path,i,n))}else return[]}function Js(t,e,n){return Zs(t,new An(xc(),e,n))}function eC(t,e,n){const r=K.fromObject(n);return Zs(t,new Gs(xc(),e,r))}function tC(t,e){return Zs(t,new Fs(xc(),e))}function nC(t,e,n){const r=Ic(t,n);if(r){const s=Pc(r),i=s.path,o=s.queryId,l=Re(i,e),a=new Fs(Sc(o),l);return Rc(t,i,a)}else return[]}function ko(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let l=[];if(o&&(e._queryIdentifier==="default"||Zg(o,e))){const a=qS(o,e,n,r);KS(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=a.removed;if(l=a.events,!s){const h=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(f,y)=>ln(y));if(h&&!d){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const y=iC(f);for(let v=0;v<y.length;++v){const _=y[v],x=_.query,m=sy(t,_);t.listenProvider_.startListening(ds(x),zs(t,x),m.hashFn,m.onComplete)}}}!d&&c.length>0&&!r&&(h?t.listenProvider_.stopListening(ds(e),null):c.forEach(f=>{const y=t.queryToTagMap.get(Zo(f));t.listenProvider_.stopListening(ds(f),y)}))}oC(t,c)}return l}function ty(t,e,n,r){const s=Ic(t,r);if(s!=null){const i=Pc(s),o=i.path,l=i.queryId,a=Re(o,e),c=new An(Sc(l),a,n);return Rc(t,o,c)}else return[]}function rC(t,e,n,r){const s=Ic(t,r);if(s){const i=Pc(s),o=i.path,l=i.queryId,a=Re(o,e),c=K.fromObject(n),h=new Gs(Sc(l),a,c);return Rc(t,o,h)}else return[]}function lu(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,y)=>{const v=Re(f,s);i=i||tn(y,v),o=o||ln(y)});let l=t.syncPointTree_.get(s);l?(o=o||ln(l),i=i||tn(l,z())):(l=new Yg,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;i!=null?a=!0:(a=!1,i=j.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((y,v)=>{const _=tn(v,z());_&&(i=i.updateImmediateChild(y,_))}));const c=Zg(l,e);if(!c&&!e._queryParams.loadsAllData()){const f=Zo(e);N(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const y=lC();t.queryToTagMap.set(f,y),t.tagToQueryMap.set(y,f)}const h=Xo(t.pendingWriteTree_,s);let d=YS(l,e,n,h,i,a);if(!c&&!o&&!r){const f=Jg(l,e);d=d.concat(aC(t,e,f))}return d}function Tc(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Re(o,e),c=tn(l,a);if(c)return c});return Ug(s,e,i,n,!0)}function sC(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,h)=>{const d=Re(c,n);r=r||tn(h,d)});let s=t.syncPointTree_.get(n);s?r=r||tn(s,z()):(s=new Yg,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new on(r,!0,!1):null,l=Xo(t.pendingWriteTree_,e._path),a=qg(s,e,l,i?o.getNode():j.EMPTY_NODE,i);return WS(a)}function Zs(t,e){return ny(e,t.syncPointTree_,null,Xo(t.pendingWriteTree_,z()))}function ny(t,e,n,r){if(b(t.path))return ry(t,e,n,r);{const s=e.get(z());n==null&&s!=null&&(n=tn(s,z()));let i=[];const o=M(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,h=Vg(r,o);i=i.concat(ny(l,a,c,h))}return s&&(i=i.concat(kc(s,t,r,n))),i}}function ry(t,e,n,r){const s=e.get(z());n==null&&s!=null&&(n=tn(s,z()));let i=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=Vg(r,o),h=t.operationForChild(o);h&&(i=i.concat(ry(h,l,a,c)))}),s&&(i=i.concat(kc(s,t,r,n))),i}function sy(t,e){const n=e.query,r=zs(t,n);return{hashFn:()=>(BS(e)||j.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?nC(t,n._path,r):tC(t,n._path);{const i=sx(s,n);return ko(t,n,null,i)}}}}function zs(t,e){const n=Zo(e);return t.queryToTagMap.get(n)}function Zo(t){return t._path.toString()+"$"+t._queryIdentifier}function Ic(t,e){return t.tagToQueryMap.get(e)}function Pc(t){const e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new W(t.substr(0,e))}}function Rc(t,e,n){const r=t.syncPointTree_.get(e);N(r,"Missing sync point for query tag that we're tracking");const s=Xo(t.pendingWriteTree_,e);return kc(r,n,s,null)}function iC(t){return t.fold((e,n,r)=>{if(n&&ln(n))return[Jo(n)];{let s=[];return n&&(s=Xg(n)),Be(r,(i,o)=>{s=s.concat(o)}),s}})}function ds(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(JS())(t._repo,t._path):t}function oC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Zo(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function lC(){return ZS++}function aC(t,e,n){const r=e._path,s=zs(t,e),i=sy(t,n),o=t.listenProvider_.startListening(ds(e),s,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(r);if(s)N(!ln(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,h,d)=>{if(!b(c)&&h&&ln(h))return[Jo(h).query];{let f=[];return h&&(f=f.concat(Xg(h).map(y=>y.query))),Be(d,(y,v)=>{f=f.concat(v)}),f}});for(let c=0;c<a.length;++c){const h=a[c];t.listenProvider_.stopListening(ds(h),zs(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new jc(n)}node(){return this.node_}}class Ac{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ae(this.path_,e);return new Ac(this.syncTree_,n)}node(){return Tc(this.syncTree_,this.path_)}}const uC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Zh=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return cC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return dC(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},cC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},dC=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);const s=e.node();if(N(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},hC=function(t,e,n,r){return Dc(e,new Ac(n,t),r)},iy=function(t,e,n){return Dc(t,new jc(e),n)};function Dc(t,e,n){const r=t.getPriority().val(),s=Zh(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=Zh(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new he(l,me(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new he(s))),o.forEachChild(te,(l,a)=>{const c=Dc(a,e.getImmediateChild(l),n);c!==a&&(i=i.updateImmediateChild(l,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Mc(t,e){let n=e instanceof W?e:new W(e),r=t,s=M(n);for(;s!==null;){const i=wr(r.node.children,s)||{children:{},childCount:0};r=new Lc(s,r,i),n=H(n),s=M(n)}return r}function Ar(t){return t.node.value}function oy(t,e){t.node.value=e,au(t)}function ly(t){return t.node.childCount>0}function fC(t){return Ar(t)===void 0&&!ly(t)}function el(t,e){Be(t.node.children,(n,r)=>{e(new Lc(n,t,r))})}function ay(t,e,n,r){n&&e(t),el(t,s=>{ay(s,e,!0)})}function pC(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ei(t){return new W(t.parent===null?t.name:ei(t.parent)+"/"+t.name)}function au(t){t.parent!==null&&mC(t.parent,t.name,t)}function mC(t,e,n){const r=fC(n),s=jt(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,au(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,au(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=/[\[\].#$\/\u0000-\u001F\u007F]/,yC=/[\[\].#$\u0000-\u001F\u007F]/,$l=10*1024*1024,uy=function(t){return typeof t=="string"&&t.length!==0&&!gC.test(t)},cy=function(t){return typeof t=="string"&&t.length!==0&&!yC.test(t)},vC=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cy(t)},_C=function(t,e,n,r){Oc(cc(t,"value"),e,n)},Oc=function(t,e,n){const r=n instanceof W?new bx(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+vn(r));if(typeof e=="function")throw new Error(t+"contains a function "+vn(r)+" with contents = "+e.toString());if(lg(e))throw new Error(t+"contains "+e.toString()+" "+vn(r));if(typeof e=="string"&&e.length>$l/3&&Ko(e)>$l)throw new Error(t+"contains a string greater than "+$l+" utf8 bytes "+vn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Be(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!uy(o)))throw new Error(t+" contains an invalid key ("+o+") "+vn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Fx(r,o),Oc(t,l,r),Gx(r)}),s&&i)throw new Error(t+' contains ".value" child '+vn(r)+" in addition to actual children.")}},dy=function(t,e,n,r){if(!cy(n))throw new Error(cc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wC=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dy(t,e,n)},xC=function(t,e){if(M(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},SC=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!uy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!vC(n))throw new Error(cc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bc(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!gc(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function hy(t,e,n){bc(t,n),fy(t,r=>gc(r,e))}function gt(t,e,n){bc(t,n),fy(t,r=>it(r,e)||it(e,r))}function fy(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(EC(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function EC(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ls&&Ne("event: "+n.toString()),jr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="repo_interrupt",kC=25;class TC{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new CC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vo(),this.transactionQueueTree_=new Lc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IC(t,e,n){if(t.stats_=pc(t.repoInfo_),t.forceRestClient_||ax())t.server_=new yo(t.repoInfo_,(r,s,i,o)=>{ef(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tf(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{le(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ct(t.repoInfo_,e,(r,s,i,o)=>{ef(t,r,s,i,o)},r=>{tf(t,r)},r=>{RC(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=fx(t.repoInfo_,()=>new dS(t.stats_,t.server_)),t.infoData_=new oS,t.infoSyncTree_=new Jh({startListening:(r,s,i,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Js(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Gc(t,"connected",!1),t.serverSyncTree_=new Jh({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,a)=>{const c=o(l,a);gt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function PC(t){const n=t.infoData_.getNode(new W(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Fc(t){return uC({timestamp:PC(t)})}function ef(t,e,n,r,s){t.dataUpdateCount++;const i=new W(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const a=uo(n,c=>me(c));o=rC(t.serverSyncTree_,i,a,s)}else{const a=me(n);o=ty(t.serverSyncTree_,i,a,s)}else if(r){const a=uo(n,c=>me(c));o=eC(t.serverSyncTree_,i,a)}else{const a=me(n);o=Js(t.serverSyncTree_,i,a)}let l=i;o.length>0&&(l=nl(t,i)),gt(t.eventQueue_,l,o)}function tf(t,e){Gc(t,"connected",e),e===!1&&DC(t)}function RC(t,e){Be(e,(n,r)=>{Gc(t,n,r)})}function Gc(t,e,n){const r=new W("/.info/"+e),s=me(n);t.infoData_.updateSnapshot(r,s);const i=Js(t.infoSyncTree_,r,s);gt(t.eventQueue_,r,i)}function py(t){return t.nextWriteId_++}function jC(t,e,n){const r=sC(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=me(s).withIndex(e._queryParams.getIndex());lu(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Js(t.serverSyncTree_,e._path,i);else{const l=zs(t.serverSyncTree_,e);o=ty(t.serverSyncTree_,e._path,i,l)}return gt(t.eventQueue_,e._path,o),ko(t.serverSyncTree_,e,n,null,!0),i},s=>(tl(t,"get for query "+le(e)+" failed: "+s),Promise.reject(new Error(s))))}function AC(t,e,n,r,s){tl(t,"set",{path:e.toString(),value:n,priority:r});const i=Fc(t),o=me(n,r),l=Tc(t.serverSyncTree_,e),a=iy(o,l,i),c=py(t),h=ey(t.serverSyncTree_,e,a,c,!0);bc(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(f,y)=>{const v=f==="ok";v||ze("set at "+e+" failed: "+f);const _=Cn(t.serverSyncTree_,c,!v);gt(t.eventQueue_,e,_),OC(t,s,f,y)});const d=_y(t,e);nl(t,d),gt(t.eventQueue_,d,[])}function DC(t){tl(t,"onDisconnectEvents");const e=Fc(t),n=vo();nu(t.onDisconnect_,z(),(s,i)=>{const o=hC(s,i,t.serverSyncTree_,e);Fg(n,s,o)});let r=[];nu(n,z(),(s,i)=>{r=r.concat(Js(t.serverSyncTree_,s,i));const o=_y(t,s);nl(t,o)}),t.onDisconnect_=vo(),gt(t.eventQueue_,z(),r)}function LC(t,e,n){let r;M(e._path)===".info"?r=lu(t.infoSyncTree_,e,n):r=lu(t.serverSyncTree_,e,n),hy(t.eventQueue_,e._path,r)}function uu(t,e,n){let r;M(e._path)===".info"?r=ko(t.infoSyncTree_,e,n):r=ko(t.serverSyncTree_,e,n),hy(t.eventQueue_,e._path,r)}function MC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(NC)}function tl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ne(n,...e)}function OC(t,e,n,r){e&&jr(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function my(t,e,n){return Tc(t.serverSyncTree_,e,n)||j.EMPTY_NODE}function zc(t,e=t.transactionQueueTree_){if(e||rl(t,e),Ar(e)){const n=yy(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&bC(t,ei(e),n)}else ly(e)&&el(e,n=>{zc(t,n)})}function bC(t,e,n){const r=n.map(c=>c.currentWriteId),s=my(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const h=n[c];N(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=Re(e,h.path);i=i.updateChild(d,h.currentOutputSnapshotRaw)}const l=i.val(!0),a=e;t.server_.put(a.toString(),l,c=>{tl(t,"transaction put response",{path:a.toString(),status:c});let h=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(Cn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();rl(t,Mc(t.transactionQueueTree_,e)),zc(t,t.transactionQueueTree_),gt(t.eventQueue_,e,h);for(let f=0;f<d.length;f++)jr(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ze("transaction at "+a.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}nl(t,e)}},o)}function nl(t,e){const n=gy(t,e),r=ei(n),s=yy(t,n);return FC(t,s,r),r}function FC(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Re(n,a.path);let h=!1,d;if(N(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)h=!0,d=a.abortReason,s=s.concat(Cn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=kC)h=!0,d="maxretry",s=s.concat(Cn(t.serverSyncTree_,a.currentWriteId,!0));else{const f=my(t,a.path,o);a.currentInputSnapshot=f;const y=e[l].update(f.val());if(y!==void 0){Oc("transaction failed: Data returned ",y,a.path);let v=me(y);typeof y=="object"&&y!=null&&jt(y,".priority")||(v=v.updatePriority(f.getPriority()));const x=a.currentWriteId,m=Fc(t),p=iy(v,f,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=py(t),o.splice(o.indexOf(x),1),s=s.concat(ey(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),s=s.concat(Cn(t.serverSyncTree_,x,!0))}else h=!0,d="nodata",s=s.concat(Cn(t.serverSyncTree_,a.currentWriteId,!0))}gt(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}rl(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)jr(r[l]);zc(t,t.transactionQueueTree_)}function gy(t,e){let n,r=t.transactionQueueTree_;for(n=M(e);n!==null&&Ar(r)===void 0;)r=Mc(r,n),e=H(e),n=M(e);return r}function yy(t,e){const n=[];return vy(t,e,n),n.sort((r,s)=>r.order-s.order),n}function vy(t,e,n){const r=Ar(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);el(e,s=>{vy(t,s,n)})}function rl(t,e){const n=Ar(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,oy(e,n.length>0?n:void 0)}el(e,r=>{rl(t,r)})}function _y(t,e){const n=ei(gy(t,e)),r=Mc(t.transactionQueueTree_,e);return pC(r,s=>{Ql(t,s)}),Ql(t,r),ay(r,s=>{Ql(t,s)}),n}function Ql(t,e){const n=Ar(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Cn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?oy(e,void 0):n.length=i+1,gt(t.eventQueue_,ei(e),s);for(let o=0;o<r.length;o++)jr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function zC(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ze(`Invalid query segment '${n}' in query '${t}'`)}return e}const nf=function(t,e){const n=BC(t),r=n.namespace;n.domain==="firebase.com"&&Pt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Zw();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new _g(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new W(n.pathString)}},BC=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(s=GC(t.substring(h,d)));const f=zC(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const y=e.slice(0,c);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+le(this.snapshot.exportVal())}}class UC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return b(this._path)?null:Ig(this._path)}get ref(){return new At(this._repo,this._path)}get _queryIdentifier(){const e=Bh(this._queryParams),n=hc(e);return n==="{}"?"default":n}get _queryObject(){return Bh(this._queryParams)}isEqual(e){if(e=Pr(e),!(e instanceof Bc))return!1;const n=this._repo===e._repo,r=gc(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ox(this._path)}}class At extends Bc{constructor(e,n){super(e,n,new wc,!1)}get parent(){const e=Rg(this._path);return e===null?null:new At(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Bs{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new W(e),r=cu(this.ref,e);return new Bs(this._node.getChild(n),r,te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Bs(s,cu(this.ref,r),te)))}hasChild(e){const n=new W(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function sl(t,e){return t=Pr(t),t._checkNotDeleted("ref"),cu(t._root,e)}function cu(t,e){return t=Pr(t),M(t._path)===null?wC("child","path",e):dy("child","path",e),new At(t._repo,ae(t._path,e))}function xy(t,e){t=Pr(t),xC("set",t._path),_C("set",e,t._path);const n=new Qo;return AC(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function VC(t){t=Pr(t);const e=new wy(()=>{}),n=new il(e);return jC(t._repo,t,n).then(r=>new Bs(r,new At(t._repo,t._path),t._queryParams.getIndex()))}class il{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new WC("value",this,new Bs(e.snapshotNode,new At(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new UC(this,e,n):null}matches(e){return e instanceof il?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function HC(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const a=n,c=(h,d)=>{uu(t._repo,t,l),a(h,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new wy(n,i||void 0),l=new il(o);return LC(t._repo,t,l),()=>uu(t._repo,t,l)}function $C(t,e,n,r){return HC(t,"value",e,n,r)}function QC(t,e,n){uu(t._repo,t,null)}$S(At);XS(At);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="FIREBASE_DATABASE_EMULATOR_HOST",du={};let YC=!1;function qC(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=uc(i);t.repoInfo_=new _g(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function XC(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Pt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ne("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=nf(i,s),l=o.repoInfo,a;typeof process<"u"&&Ch&&(a=Ch[KC]),a?(i=`http://${a}?ns=${l.namespace}`,o=nf(i,s),l=o.repoInfo):o.repoInfo.secure;const c=new cx(t.name,t.options,e);SC("Invalid Firebase Database URL",o),b(o.path)||Pt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=ZC(l,t,c,new ux(t,n));return new eE(h,t)}function JC(t,e){const n=du[e];(!n||n[t.key]!==t)&&Pt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),MC(t),delete n[t.key]}function ZC(t,e,n,r){let s=du[e.name];s||(s={},du[e.name]=s);let i=s[t.toURLString()];return i&&Pt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new TC(t,YC,n,r),s[t.toURLString()]=i,i}class eE{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new At(this._repo,z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(JC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pt("Cannot call "+e+" on a deleted database.")}}function tE(t=Ow(),e){const n=jw(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=g1("database");r&&nE(n,...r)}return n}function nE(t,e,n,r={}){t=Pr(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&co(r,i.repoInfo_.emulatorOptions))return;Pt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Mi(Mi.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:v1(r.mockUserToken,t.app.options.projectId);o=new Mi(l)}uc(e)&&(y1(e),x1("Database",!0)),qC(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){Qw(Mw),fo(new As("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return XC(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),ur(Eh,Nh,t),ur(Eh,Nh,"esm2020")}Ct.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ct.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};rE();var sE="firebase",iE="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(sE,iE,"app");const oE={apiKey:void 0,authDomain:void 0,databaseURL:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},lE=tg(oE),ol=tE(lE),ll="tournament_data";async function Sy(t){try{const e=sl(ol,ll);return await xy(e,t),console.log(" Data saved to Firebase"),!0}catch(e){return console.error(" Error saving to Firebase:",e),!1}}async function aE(t){try{const e=sl(ol,ll),n=await VC(e);if(n.exists()){const r=n.val();return console.log(" Data loaded from Firebase"),r}else return console.log(" No data in Firebase, using template"),await Sy(t),t}catch(e){return console.error(" Error loading from Firebase:",e),t}}function uE(t){const e=sl(ol,ll);return $C(e,n=>{if(n.exists()){const r=n.val();console.log(" Real-time update from Firebase"),t(r)}},n=>{console.error(" Firebase subscription error:",n)}),()=>{QC(e),console.log(" Unsubscribed from Firebase")}}async function cE(t){try{const e=sl(ol,ll);return await xy(e,t),console.log(" Firebase data reset to template"),t}catch(e){throw console.error(" Error resetting Firebase data:",e),e}}const dE={BASE_URL:"/Pallet-Pes-Tour/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Cy=S.createContext(null),hE=()=>{var t;try{return!((t=dE.VITE_FIREBASE_API_KEY)!=null&&t.includes("YOUR_"))}catch{return!1}},Wn=hE();function fE({children:t}){const[e,n]=S.useState(()=>uh(zn)),[r,s]=S.useState(Wn),i=S.useRef(!1);S.useEffect(()=>{if(!Wn)return;async function c(){try{const h=await aE(zn);n(h)}catch(h){console.error("Failed to load from Firebase, using localStorage:",h),n(uh(zn))}finally{s(!1)}}c()},[]),S.useEffect(()=>Wn?uE(h=>{i.current||(i.current=!0,n(h),Ol(h),setTimeout(()=>{i.current=!1},100))}):void 0,[]);function o(c){n(h=>{const d=typeof c=="function"?c(h):c;return Ol(d),Wn&&Sy(d).catch(f=>{console.error("Failed to save to Firebase:",f)}),d})}async function l(){if(Wn)try{const c=await cE(zn);n(c),Ol(c)}catch(c){console.error("Failed to reset Firebase data:",c),n(ch(zn))}else n(ch(zn))}const a=S.useMemo(()=>({state:e,updateState:o,reset:l,isLoading:r,usingFirebase:Wn}),[e,r]);return u.jsx(Cy.Provider,{value:a,children:t})}function Dr(){const t=S.useContext(Cy);if(!t)throw new Error("useAppState must be used within AppStateProvider");return t}function rf(t){if(t===""||t===null||t===void 0)return null;const e=Number(t);return Number.isFinite(e)?e:null}function pE(t){const e=t.group??t.Group??t.g??null,n=t.homeId??t.playerAId??t.aId??t.p1Id??t.home??t.A??null,r=t.awayId??t.playerBId??t.bId??t.p2Id??t.away??t.B??null;if(!Array.isArray(t.games))return{played:!1};let s=0,i=0,o=0,l=0;for(const c of t.games){if(s===2||i===2)break;const h=rf(c.homeGoals),d=rf(c.awayGoals);h===null||d===null||(o+=h,l+=d,h>d?s++:d>h&&i++)}return{group:e,homeId:n,awayId:r,homeWins:s,awayWins:i,homeGoals:o,awayGoals:l,played:s===2||i===2}}function mE(t,e){return{id:t.id,name:t.name,group:e,P:0,W:0,L:0,GSW:0,GSL:0,GF:0,GA:0,GD:0,PTS:0,rank:0}}function gE(t,e,n,r,s,i,o){const l=t.get(e),a=t.get(n);if(!l||!a)return;l.P+=1,a.P+=1,l.GF+=i,l.GA+=o,a.GF+=o,a.GA+=i,l.GD=l.GF-l.GA,a.GD=a.GF-a.GA;const c=r>s,h=c?l:a,d=c?a:l;h.W+=1,d.L+=1,c?(l.GSW+=r,l.GSL+=s,a.GSW+=s,a.GSL+=r):(a.GSW+=s,a.GSL+=r,l.GSW+=r,l.GSL+=s),r===2&&s===0||r===0&&s===2?h.PTS+=3:(h.PTS+=2,d.PTS+=1)}function yE(t){const e=[...t].sort((n,r)=>r.PTS-n.PTS||r.GD-n.GD||r.GF-n.GF||String(n.name).localeCompare(String(r.name)));return e.forEach((n,r)=>n.rank=r+1),e}function vE(t){const e={};for(const n of t||[]){const r=n.group??n.Group??n.g;r&&(e[r]||(e[r]=[]),e[r].push(n))}return e}function Wc(t,e){const n=vE(t),r={};for(const[s,i]of Object.entries(n)){const o=new Map;for(const l of i)o.set(l.id,mE(l,s));for(const l of e||[]){const a=pE(l);a.played&&a.group===s&&gE(o,a.homeId,a.awayId,a.homeWins,a.awayWins,a.homeGoals,a.awayGoals)}r[s]=yE([...o.values()])}return r}function _E(t,e){const n=new Map(t.map(i=>[i.id,i])),r=n.get(e.homeId??e.home),s=n.get(e.awayId??e.away);return{homeName:(r==null?void 0:r.name)||e.homeId||e.home||"?",awayName:(s==null?void 0:s.name)||e.awayId||e.away||"?"}}const sf="/Pallet-Pes-Tour/assets/1AUTO1-DvK8ZO3a.png",of="/Pallet-Pes-Tour/assets/Dra-Gon-h35qPsN9.png",lf="/Pallet-Pes-Tour/assets/Glanelalala-BfjOw5VL.png",af="/Pallet-Pes-Tour/assets/Jak-Kroval-_OKZCweB.png",uf="/Pallet-Pes-Tour/assets/K-Vinn-BuM-8vVe.png",cf="/Pallet-Pes-Tour/assets/Max-88-zK7mCRl6.png",df="/Pallet-Pes-Tour/assets/MengZzz-DHzt8QA4.png",hf="/Pallet-Pes-Tour/assets/Petter-027-BOdQbbdx.png",ff="/Pallet-Pes-Tour/assets/Reach%20OMG-DkAsUodS.png",pf="/Pallet-Pes-Tour/assets/Si%20Dav-BpBGgVm6.png",mf="/Pallet-Pes-Tour/assets/WinMeLbey-PZ2I4VLO.png",gf="/Pallet-Pes-Tour/assets/pallet-D_LKp9NR.jpg",yf="/Pallet-Pes-Tour/assets/sorespect-t6QiRiOJ.png",Kl={"Dra-Gon":"Dra-Gon.png","Jak-Kroval":"Jak-Kroval.png","Max-88":"Max-88.png","Petter-027":"Petter-027.png",MengZzz:"MengZzz.png","Reach OMG":"Reach OMG.png","Si Dav":"Si Dav.png","SO-R3spec1":"sorespect.png","1AUTO1":"1AUTO1.png",Glanelalala:"Glanelalala.png","Win Me Lbey":"WinMeLbey.png","K-Vinn":"K-Vinn.png"};function an(t){if(Kl.hasOwnProperty(t)){const e=Kl[t];return e?new URL(Object.assign({"../assets/1AUTO1.png":sf,"../assets/Dra-Gon.png":of,"../assets/Glanelalala.png":lf,"../assets/Jak-Kroval.png":af,"../assets/K-Vinn.png":uf,"../assets/Max-88.png":cf,"../assets/MengZzz.png":df,"../assets/Petter-027.png":hf,"../assets/Reach OMG.png":ff,"../assets/Si Dav.png":pf,"../assets/WinMeLbey.png":mf,"../assets/pallet.jpg":gf,"../assets/sorespect.png":yf})[`../assets/${e}`],import.meta.url).href:null}for(const[e,n]of Object.entries(Kl))if(e.toLowerCase()===t.toLowerCase())return n?new URL(Object.assign({"../assets/1AUTO1.png":sf,"../assets/Dra-Gon.png":of,"../assets/Glanelalala.png":lf,"../assets/Jak-Kroval.png":af,"../assets/K-Vinn.png":uf,"../assets/Max-88.png":cf,"../assets/MengZzz.png":df,"../assets/Petter-027.png":hf,"../assets/Reach OMG.png":ff,"../assets/Si Dav.png":pf,"../assets/WinMeLbey.png":mf,"../assets/pallet.jpg":gf,"../assets/sorespect.png":yf})[`../assets/${n}`],import.meta.url).href:null;return null}const Uc="/Pallet-Pes-Tour/assets/pallet-D_LKp9NR.jpg";function ti(){return u.jsxs("footer",{className:"site-footer",children:[u.jsx("div",{className:"footer-glow"}),u.jsx("p",{style:{fontWeight:700,fontSize:15},children:" Pallet Pes Tour  2026"}),u.jsx("p",{className:"small",children:"Built with passion for eFootball"}),u.jsxs("div",{className:"footer-links",children:[u.jsx(Pe,{to:"/",children:"Home"}),u.jsx(Pe,{to:"/standings",children:"Standings"}),u.jsx(Pe,{to:"/matches",children:"Matches"}),u.jsx(Pe,{to:"/knockout",children:"Knockout"}),u.jsx(Pe,{to:"/admin",children:"Admin"})]})]})}function wE(){var v,_,x,m,p,g;const{state:t}=Dr(),[e,n]=S.useState(!1),r=S.useMemo(()=>Wc(t.players,t.matches),[t.players,t.matches]),s=((v=t.players)==null?void 0:v.length)||12,i=Object.keys(r).length||3,o=((_=t.matches)==null?void 0:_.filter(w=>w.played).length)||0,l=((x=t.matches)==null?void 0:x.length)||18,a=l>0?o/l*100:0,c=((m=t.tournament)==null?void 0:m.name)||"Pallet Pes Tour",h=((p=t.tournament)==null?void 0:p.season)||"Spring 2026",d=((g=t.tournament)==null?void 0:g.tagline)||"Legends Start Here",y=S.useMemo(()=>{const w=[];for(const E of Object.values(r))w.push(...E);return w.sort((E,k)=>k.PTS-E.PTS||k.GD-E.GD||k.GF-E.GF)},[r]).slice(0,4);return u.jsxs("div",{className:"container fade-in",children:[u.jsx("div",{className:"hero",children:u.jsxs("div",{className:"hero-content",children:[u.jsxs("div",{className:"hero-badge",children:[u.jsx("span",{className:"live-dot"}),h]}),u.jsx("div",{className:"hero-logo-container",children:u.jsx("img",{src:Uc,alt:"Pallet eFootball Championship",className:"hero-logo"})}),u.jsx("h1",{className:"hero-title",children:c}),u.jsx("p",{className:"hero-tagline",children:d}),u.jsxs("div",{className:"hero-actions",children:[u.jsx(Pe,{to:"/standings",className:"hero-btn primary",children:" View Standings"}),u.jsx(Pe,{to:"/matches",className:"hero-btn secondary",children:" Enter Scores"})]})]})}),u.jsxs("div",{className:"card progress-card",children:[u.jsxs("div",{className:"toolbar",children:[u.jsx("h2",{children:" Tournament Progress"}),u.jsxs("span",{className:"badge accent",children:[Math.round(a),"% Complete"]})]}),u.jsx("div",{className:"progress-bar-container",style:{marginTop:12},children:u.jsx("div",{className:"progress-bar",style:{width:`${a}%`}})}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[u.jsxs("span",{className:"small",children:[o," of ",l," matches played"]}),u.jsx("span",{className:"small",children:o===l?" Group stage complete!":`${l-o} remaining`})]})]}),u.jsxs("div",{className:"grid stagger",style:{marginTop:16},children:[u.jsxs("div",{className:"card span3 stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsx("div",{className:"stat-value",children:s}),u.jsx("div",{className:"stat-label",children:"Players"})]}),u.jsxs("div",{className:"card span3 stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsx("div",{className:"stat-value",children:i}),u.jsx("div",{className:"stat-label",children:"Groups"})]}),u.jsxs("div",{className:"card span3 stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsx("div",{className:"stat-value",children:o}),u.jsx("div",{className:"stat-label",children:"Played"})]}),u.jsxs("div",{className:"card span3 stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsx("div",{className:"stat-value",children:"8"}),u.jsx("div",{className:"stat-label",children:"Qualify"})]})]}),y.length>0&&y.some(w=>w.PTS>0)&&u.jsxs("div",{className:"card",style:{marginTop:16},children:[u.jsxs("div",{className:"toolbar",children:[u.jsx("h2",{children:" Top Players"}),u.jsx(Pe,{to:"/standings",className:"btn ghost",style:{fontSize:13},children:"View all "})]}),u.jsx("div",{className:"table-wrap",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{width:"8%"},children:"#"}),u.jsx("th",{style:{width:"35%"},children:"Player"}),u.jsx("th",{children:"Group"}),u.jsx("th",{children:"W-L"}),u.jsx("th",{children:"GD"}),u.jsx("th",{children:"PTS"})]})}),u.jsx("tbody",{children:y.map((w,E)=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("span",{style:{fontSize:E===0?18:14,fontWeight:800},children:E===0?"":E===1?"":E===2?"":`${E+1}`})}),u.jsx("td",{children:u.jsxs("span",{className:"rowtag",children:[an(w.name)&&u.jsx("img",{src:an(w.name),alt:w.name}),u.jsx("strong",{children:w.name})]})}),u.jsx("td",{children:u.jsxs("span",{className:"badge",children:["Group ",w.group]})}),u.jsxs("td",{children:[w.W,"-",w.L]}),u.jsxs("td",{style:{color:w.GD>0?"var(--good)":w.GD<0?"var(--bad)":"var(--muted)"},children:[w.GD>0?"+":"",w.GD]}),u.jsx("td",{children:u.jsx("strong",{style:{fontSize:16},children:w.PTS})})]},w.id))})]})})]}),u.jsxs("div",{className:"section-title",children:[u.jsx("span",{className:"icon",children:""}),"Quick Links"]}),u.jsxs("div",{className:"grid stagger",children:[u.jsxs(Pe,{to:"/standings",className:"card span6 quick-link",children:[u.jsx("span",{className:"ql-icon",children:""}),u.jsxs("div",{children:[u.jsx("strong",{children:"Standings"}),u.jsx("p",{className:"small",children:"Group tables, rankings & qualification status"})]})]}),u.jsxs(Pe,{to:"/matches",className:"card span6 quick-link",children:[u.jsx("span",{className:"ql-icon",children:""}),u.jsxs("div",{children:[u.jsx("strong",{children:"Matches"}),u.jsx("p",{className:"small",children:"Enter scores & manage match results"})]})]}),u.jsxs(Pe,{to:"/knockout",className:"card span6 quick-link",children:[u.jsx("span",{className:"ql-icon",children:""}),u.jsxs("div",{children:[u.jsx("strong",{children:"Knockout"}),u.jsx("p",{className:"small",children:"Last 8 bracket & elimination rounds"})]})]}),u.jsxs(Pe,{to:"/admin",className:"card span6 quick-link",children:[u.jsx("span",{className:"ql-icon",children:""}),u.jsxs("div",{children:[u.jsx("strong",{children:"Admin"}),u.jsx("p",{className:"small",children:"Rename players, reset tournament data"})]})]})]}),u.jsxs("div",{className:"card rules-card",style:{marginTop:20},children:[u.jsxs("div",{className:"toolbar",style:{cursor:"pointer"},onClick:()=>n(!e),children:[u.jsx("h2",{children:" Tournament Rules"}),u.jsx("button",{className:"btn ghost",style:{fontSize:13},children:e?" Hide":" Show"})]}),e&&u.jsx("div",{className:"fade-in",children:u.jsxs("ul",{className:"rules-list",children:[u.jsxs("li",{children:[u.jsx("span",{className:"rule-icon",children:""}),u.jsxs("div",{children:["Each group matchup is a ",u.jsx("strong",{children:"Best-of-3"})," series (first to 2 game wins)."]})]}),u.jsxs("li",{children:[u.jsx("span",{className:"rule-icon",children:""}),u.jsxs("div",{children:[u.jsx("strong",{children:"20"})," win  Winner gets"," ",u.jsx("span",{className:"kbd",children:"3 pts"}),", Loser"," ",u.jsx("span",{className:"kbd",children:"0 pts"})]})]}),u.jsxs("li",{children:[u.jsx("span",{className:"rule-icon",children:""}),u.jsxs("div",{children:[u.jsx("strong",{children:"21"})," win  Winner gets"," ",u.jsx("span",{className:"kbd",children:"2 pts"}),", Loser"," ",u.jsx("span",{className:"kbd",children:"1 pt"})]})]}),u.jsxs("li",{children:[u.jsx("span",{className:"rule-icon",children:""}),u.jsxs("div",{children:[u.jsx("strong",{children:"Qualification:"})," Top 2 from each group (6) + Best 2 third-place (2) = ",u.jsx("strong",{children:"Last 8"})]})]}),u.jsxs("li",{children:[u.jsx("span",{className:"rule-icon",children:""}),u.jsxs("div",{children:[u.jsx("strong",{children:"Tiebreakers:"})," ",u.jsx("span",{className:"kbd",children:"PTS"})," "," ",u.jsx("span",{className:"kbd",children:"GD"})," "," ",u.jsx("span",{className:"kbd",children:"GF"}),"  Name"]})]})]})})]}),u.jsx(ti,{})]})}function Ey(t){const e=Object.keys(t).sort(),n=[],r=[];for(const o of e){const l=t[o];!l||l.length===0||(n.push(...l.slice(0,2).map(a=>({...a,qualifyAs:`${o}${a.rank}`}))),l[2]&&r.push({...l[2],qualifyAs:`${o}3`}))}r.sort((o,l)=>l.PTS-o.PTS||l.GD-o.GD||l.GF-o.GF||o.name.localeCompare(l.name));const s=r.slice(0,2).map(o=>({...o,qualifyAs:"Best3"})),i=[...n,...s].sort((o,l)=>l.PTS-o.PTS||l.GD-o.GD||l.GF-o.GF||o.name.localeCompare(l.name)).map((o,l)=>({...o,seed:l+1}));return{groups:e,top2:n,thirdCandidates:r,bestThirds:s,seeded:i}}function xE({group:t,table:e,bestThirdIds:n}){return u.jsxs("div",{className:"card span6",style:{animationDelay:`${(t.charCodeAt(0)-65)*.1}s`},children:[u.jsxs("div",{className:"toolbar",style:{marginBottom:12},children:[u.jsxs("h2",{children:[u.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:10,background:"linear-gradient(135deg, var(--accent), var(--accent2))",color:"#fff",fontFamily:"var(--font-heading)",fontWeight:900,fontSize:14,marginRight:10},children:t}),"Group ",t]}),u.jsxs("span",{className:"badge accent",children:[e.length," Players"]})]}),u.jsx("div",{className:"table-wrap",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{width:"40%"},children:"Player"}),u.jsx("th",{children:"M"}),u.jsx("th",{children:"Game"}),u.jsx("th",{children:"GF"}),u.jsx("th",{children:"GA"}),u.jsx("th",{children:"GD"}),u.jsx("th",{children:"PTS"})]})}),u.jsx("tbody",{children:e.map(r=>u.jsxs("tr",{className:r.rank<=2?"row-top2":r.rank===3?"row-top3":"",children:[u.jsx("td",{children:u.jsxs("span",{className:"rowtag",children:[u.jsx("span",{style:{minWidth:20,textAlign:"center",fontWeight:800,fontSize:13,color:r.rank<=2?"var(--good)":r.rank===3?"var(--warn)":"var(--muted)"},children:r.rank}),an(r.name)&&u.jsx("img",{src:an(r.name),alt:r.name}),u.jsx("strong",{children:r.name})]})}),u.jsx("td",{children:r.P}),u.jsx("td",{children:u.jsxs("span",{style:{fontWeight:600},children:[r.GSW,"-",r.GSL]})}),u.jsx("td",{children:r.GF}),u.jsx("td",{children:r.GA}),u.jsxs("td",{style:{color:r.GD>0?"var(--good)":r.GD<0?"var(--bad)":"var(--muted)",fontWeight:700},children:[r.GD>0?"+":"",r.GD]}),u.jsx("td",{children:u.jsx("strong",{style:{fontSize:16},children:r.PTS})})]},r.id))})]})})]})}function SE(){var i,o;const{state:t}=Dr(),e=S.useMemo(()=>Wc(t.players,t.matches),[t.players,t.matches]),n=S.useMemo(()=>Ey(e),[e]),r=S.useMemo(()=>new Set(n.bestThirds.map(l=>l.id)),[n.bestThirds]),s=l=>u.jsxs("span",{className:"rowtag",children:[an(l)&&u.jsx("img",{src:an(l),alt:l}),u.jsx("strong",{children:l})]});return u.jsxs("div",{className:"container fade-in",children:[u.jsx("div",{className:"card tourneyHeader",children:u.jsxs("div",{className:"tourneyHeaderInner",children:[u.jsxs("div",{className:"tourneyLeft",children:[u.jsx("img",{className:"tourneyLogo",src:Uc,alt:"Tournament logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"tourneyKicker",children:"STANDINGS  GROUP STAGE"}),u.jsx("div",{className:"tourneyTitle",children:((i=t.tournament)==null?void 0:i.name)||"eFootball Tournament"}),u.jsx("div",{className:"tourneySub",children:((o=t.tournament)==null?void 0:o.stage)||"Group Stage  Last 8"})]})]}),u.jsxs("div",{className:"tourneyRight",children:[u.jsx("span",{className:"badge good",children:" Top 2 qualify"}),u.jsx("span",{className:"badge warn",children:" Best 3rd place"}),u.jsx("span",{className:"badge accent",children:" Best-of-3"})]})]})}),u.jsxs("div",{className:"section-title",children:[u.jsx("span",{className:"icon",children:""}),"Group Standings"]}),u.jsx("div",{className:"grid stagger",children:Object.keys(e).sort().map(l=>u.jsx(xE,{group:l,table:e[l],bestThirdIds:r},l))}),u.jsx("div",{className:"card",style:{marginTop:16},children:u.jsxs("div",{style:{display:"flex",gap:20,flexWrap:"wrap",alignItems:"center"},children:[u.jsx("span",{className:"small",style:{fontWeight:700,color:"var(--text)"},children:"Legend:"}),u.jsxs("span",{style:{display:"flex",alignItems:"center",gap:6},children:[u.jsx("span",{style:{width:14,height:14,borderRadius:4,background:"rgba(52, 211, 153, 0.2)",border:"2px solid var(--good)"}}),u.jsx("span",{className:"small",children:"Top 2 (Qualified)"})]}),u.jsxs("span",{style:{display:"flex",alignItems:"center",gap:6},children:[u.jsx("span",{style:{width:14,height:14,borderRadius:4,background:"rgba(251, 191, 36, 0.15)",border:"2px solid var(--warn)"}}),u.jsx("span",{className:"small",children:"3rd Place (may qualify)"})]})]})}),u.jsxs("div",{className:"card",style:{marginTop:16},children:[u.jsxs("div",{className:"toolbar",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Best Third-Place Ranking"}),u.jsx("div",{className:"sub",children:"Top 2 third-place finishers qualify for the Last 8."})]}),u.jsxs("span",{className:"badge accent",children:[n.bestThirds.length,"/2 Qualified"]})]}),u.jsx("div",{className:"table-wrap",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{width:"35%"},children:"Player"}),u.jsx("th",{children:"Group"}),u.jsx("th",{children:"M"}),u.jsx("th",{children:"Game"}),u.jsx("th",{children:"GF"}),u.jsx("th",{children:"GA"}),u.jsx("th",{children:"GD"}),u.jsx("th",{children:"PTS"}),u.jsx("th",{children:"Status"})]})}),u.jsx("tbody",{children:n.thirdCandidates.map(l=>{const a=n.bestThirds.some(c=>c.id===l.id);return u.jsxs("tr",{className:a?"row-best-third":"row-third",children:[u.jsx("td",{children:s(l.name)}),u.jsx("td",{children:u.jsxs("span",{className:"badge",children:["Group ",l.group]})}),u.jsx("td",{children:l.P}),u.jsxs("td",{children:[l.W,"-",l.L]}),u.jsx("td",{children:l.GF}),u.jsx("td",{children:l.GA}),u.jsxs("td",{style:{color:l.GD>0?"var(--good)":l.GD<0?"var(--bad)":"var(--muted)"},children:[l.GD>0?"+":"",l.GD]}),u.jsx("td",{children:u.jsx("strong",{children:l.PTS})}),u.jsx("td",{children:a?u.jsx("span",{className:"badge good",children:" Qualified"}):u.jsx("span",{className:"badge bad",children:" Eliminated"})})]},l.id)})})]})})]}),u.jsxs("div",{className:"card",style:{marginTop:16},children:[u.jsxs("div",{className:"toolbar",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Qualified 8 (Seeding)"}),u.jsx("div",{className:"sub",children:"These players advance to the Last 8 knockout round."})]}),u.jsxs("span",{className:"badge good",children:[n.seeded.length,"/8 Spots Filled"]})]}),u.jsx("div",{className:"table-wrap",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{width:"8%"},children:"Seed"}),u.jsx("th",{style:{width:"35%"},children:"Player"}),u.jsx("th",{children:"Group"}),u.jsx("th",{children:"PTS"}),u.jsx("th",{children:"GD"}),u.jsx("th",{children:"GF"}),u.jsx("th",{children:"Qualify As"})]})}),u.jsx("tbody",{children:n.seeded.map(l=>u.jsxs("tr",{className:"row-qualified",children:[u.jsx("td",{children:u.jsxs("strong",{style:{fontSize:16,color:l.seed<=2?"var(--good)":"var(--accent)"},children:["#",l.seed]})}),u.jsx("td",{children:s(l.name)}),u.jsx("td",{children:u.jsxs("span",{className:"badge",children:["Group ",l.group]})}),u.jsx("td",{children:u.jsx("strong",{children:l.PTS})}),u.jsxs("td",{style:{color:l.GD>0?"var(--good)":l.GD<0?"var(--bad)":"var(--muted)"},children:[l.GD>0?"+":"",l.GD]}),u.jsx("td",{children:l.GF}),u.jsx("td",{children:u.jsx("span",{className:"badge good",children:l.qualifyAs})})]},l.id))})]})}),n.seeded.length===0&&u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"icon",children:""}),u.jsx("h3",{children:"No Qualifiers Yet"}),u.jsx("p",{children:"Complete group stage matches to determine the qualified 8."})]})]}),u.jsx(ti,{})]})}function CE({match:t,homeName:e,awayName:n,onChange:r,readOnly:s=!1}){function i(a,c,h){if(s)return;const d=[...t.games||[{},{},{}]];d[a]={homeGoals:c,awayGoals:h},r({...t,games:d})}const o=S.useMemo(()=>{let a=0,c=0;for(const h of t.games||[])if(h.homeGoals!==null&&h.awayGoals!==null&&h.homeGoals!==void 0&&h.awayGoals!==void 0&&(h.homeGoals>h.awayGoals?a++:h.awayGoals>h.homeGoals&&c++),a===2||c===2)break;return{homeWins:a,awayWins:c}},[t.games]),l=o.homeWins===2||o.awayWins===2;return u.jsxs("div",{className:"matchbox",style:t.played?{borderColor:"rgba(52, 211, 153, 0.2)"}:{},children:[u.jsxs("div",{className:"title",children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[u.jsx("strong",{style:{fontSize:15},children:t.id}),u.jsxs("span",{className:"badge",children:["Group ",t.group]}),t.played&&u.jsx("span",{className:"match-status played",children:" Played"}),!t.played&&l&&u.jsx("span",{className:"match-status pending",children:" Ready"})]}),u.jsxs("label",{className:"small",style:{display:"flex",gap:8,alignItems:"center",cursor:s?"not-allowed":"pointer",opacity:s?.6:1},children:[u.jsx("input",{type:"checkbox",checked:!!t.played,onChange:a=>!s&&r({...t,played:a.target.checked}),disabled:s}),u.jsx("span",{style:{fontWeight:600},children:"Played"})]})]}),u.jsx("div",{style:{textAlign:"center",padding:"10px 0",marginBottom:12,borderRadius:10,background:"rgba(108, 140, 255, 0.04)",border:"1px solid rgba(108, 140, 255, 0.08)"},children:u.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:16},children:[u.jsx("span",{style:{fontWeight:800,fontSize:15,color:o.homeWins>=o.awayWins?"var(--text)":"var(--muted)"},children:e}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"4px 16px",borderRadius:10,background:"rgba(0, 0, 0, 0.2)",fontFamily:"var(--font-heading)"},children:[u.jsx("span",{style:{fontSize:22,fontWeight:900,color:o.homeWins>o.awayWins?"var(--good)":"var(--text)"},children:o.homeWins}),u.jsx("span",{style:{color:"var(--muted)",fontWeight:600},children:""}),u.jsx("span",{style:{fontSize:22,fontWeight:900,color:o.awayWins>o.homeWins?"var(--good)":"var(--text)"},children:o.awayWins})]}),u.jsx("span",{style:{fontWeight:800,fontSize:15,color:o.awayWins>=o.homeWins?"var(--text)":"var(--muted)"},children:n})]})}),u.jsx("div",{className:"teams",children:[0,1,2].map(a=>{const c=(t.games||[{},{},{}])[a],h=c.homeGoals,d=c.awayGoals,f=h!=null&&d!==null&&d!==void 0,y=f&&h>d,v=f&&d>h;return(()=>{let x=0,m=0;for(let p=0;p<a;p++){const g=(t.games||[{},{},{}])[p];g.homeGoals!==null&&g.homeGoals!==void 0&&g.awayGoals!==null&&g.awayGoals!==void 0&&(g.homeGoals>g.awayGoals?x++:g.awayGoals>g.homeGoals&&m++)}return x===2||m===2})()&&!f?null:u.jsxs("div",{style:{padding:"10px 14px",borderBottom:a<2?"1px solid var(--border)":"none",borderRadius:a===0?"12px 12px 0 0":a===2?"0 0 12px 12px":0,background:"rgba(255, 255, 255, 0.02)"},children:[u.jsxs("div",{className:"small",style:{marginBottom:8,fontWeight:700,display:"flex",alignItems:"center",gap:8},children:["Game ",a+1,f&&u.jsx("span",{style:{fontSize:10,padding:"1px 6px",borderRadius:999,background:y||v?"rgba(52, 211, 153, 0.1)":"rgba(251, 191, 36, 0.1)",color:y||v?"var(--good)":"var(--warn)",fontWeight:700},children:y?`${e} wins`:v?`${n} wins`:"Draw"})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px 1fr",gap:8,alignItems:"center"},children:[u.jsx("span",{style:{fontWeight:y?800:600,color:y?"var(--good)":"inherit"},children:e}),u.jsx("input",{className:"input game-input",inputMode:"numeric",min:0,value:h??"",placeholder:"0",onChange:x=>i(a,x.target.value===""?null:Number(x.target.value),d),disabled:s,style:{cursor:s?"not-allowed":"text",opacity:s?.7:1}}),u.jsx("input",{className:"input game-input",inputMode:"numeric",min:0,value:d??"",placeholder:"0",onChange:x=>i(a,h,x.target.value===""?null:Number(x.target.value)),disabled:s,style:{cursor:s?"not-allowed":"text",opacity:s?.7:1}}),u.jsx("span",{style:{textAlign:"right",fontWeight:v?800:600,color:v?"var(--good)":"inherit"},children:n})]})]},a)})})]})}function Ny(t){let e=5381;for(let n=0;n<t.length;n++)e=(e<<5)+e+t.charCodeAt(n)>>>0;return e.toString(36)}const hu=Ny("admin123"),Vc="ppt_admin_auth";function Hc(){return sessionStorage.getItem(Vc)===hu}function EE(){sessionStorage.removeItem(Vc)}function NE({children:t}){const[e,n]=S.useState(()=>Hc()),[r,s]=S.useState(""),[i,o]=S.useState(""),[l,a]=S.useState(!1);function c(d){d.preventDefault(),Ny(r)===hu?(sessionStorage.setItem(Vc,hu),n(!0),o("")):(o("Incorrect password"),a(!0),setTimeout(()=>a(!1),500),s(""))}function h(){EE(),n(!1),s("")}return e?u.jsx(u.Fragment,{children:typeof t=="function"?t({onLogout:h}):t}):u.jsx("div",{className:"container fade-in",children:u.jsxs("div",{className:"card",style:{maxWidth:440,margin:"80px auto",textAlign:"center"},children:[u.jsx("div",{style:{fontSize:56,marginBottom:16,filter:"drop-shadow(0 4px 16px rgba(108, 140, 255, 0.3))"},children:""}),u.jsx("h2",{style:{fontFamily:"var(--font-heading)",fontSize:24,fontWeight:900,marginBottom:8},children:"Admin Access"}),u.jsx("p",{className:"sub",style:{marginBottom:24},children:"Enter the admin password to access tournament management."}),u.jsxs("form",{onSubmit:c,children:[u.jsx("div",{className:l?"shake-anim":"",style:{marginBottom:16},children:u.jsx("input",{type:"password",className:"input",placeholder:"Enter password...",value:r,onChange:d=>{s(d.target.value),o("")},autoFocus:!0,style:{textAlign:"center",fontSize:16,letterSpacing:"0.1em",padding:"14px 20px"}})}),i&&u.jsxs("div",{style:{color:"var(--bad)",fontSize:13,fontWeight:600,marginBottom:12,padding:"8px 12px",borderRadius:10,background:"rgba(248, 113, 113, 0.08)",border:"1px solid rgba(248, 113, 113, 0.2)"},children:[" ",i]}),u.jsx("button",{type:"submit",className:"btn",disabled:!r.trim(),style:{width:"100%",justifyContent:"center",padding:"14px 24px",fontSize:15,background:"linear-gradient(135deg, rgba(108, 140, 255, 0.2), rgba(167, 139, 250, 0.15))"},children:" Unlock Admin Panel"})]}),u.jsx("p",{className:"small",style:{marginTop:20,opacity:.6},children:"Session expires when you close the tab."})]})})}function kE(){var d,f;const{state:t,updateState:e}=Dr(),[n,r]=S.useState("ALL"),s=Hc(),i=S.useMemo(()=>Array.from(new Set(t.players.map(y=>y.group))).sort(),[t.players]),o=S.useMemo(()=>n==="ALL"?t.matches:t.matches.filter(y=>y.group===n),[t.matches,n]),l=((d=t.matches)==null?void 0:d.length)||0,a=((f=t.matches)==null?void 0:f.filter(y=>y.played).length)||0,c=l-a;function h(y){e(v=>({...v,matches:v.matches.map(_=>_.id===y.id?y:_)}))}return u.jsxs("div",{className:"container fade-in",children:[u.jsx("div",{className:"card",children:u.jsxs("div",{className:"toolbar",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Matches"}),u.jsx("div",{className:"sub",children:s?u.jsxs(u.Fragment,{children:["Enter ",u.jsx("strong",{children:"goal scores"})," for each game in the Best-of-3 series and tick ",u.jsx("span",{className:"kbd",children:"Played"}),"."]}):u.jsx(u.Fragment,{children:"View match results and scores from the group stage."})})]}),u.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center",flexWrap:"wrap"},children:[u.jsxs("span",{className:"badge good",children:[" ",a," Played"]}),u.jsxs("span",{className:"badge warn",children:[" ",c," Pending"]})]})]})}),s?u.jsx("div",{className:"card",style:{marginTop:16,background:"linear-gradient(135deg, rgba(34, 197, 94, 0.08), rgba(16, 185, 129, 0.05))",border:"1px solid rgba(34, 197, 94, 0.2)"},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"4px 0"},children:[u.jsx("span",{style:{fontSize:24},children:""}),u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{fontWeight:700,fontSize:14,color:"var(--good)",marginBottom:2},children:"Admin Access Granted"}),u.jsx("div",{className:"small",style:{opacity:.8},children:"You can edit match scores and mark matches as played."})]}),u.jsx("span",{className:"badge good",style:{background:"rgba(34, 197, 94, 0.15)",border:"1px solid rgba(34, 197, 94, 0.3)"},children:" ADMIN"})]})}):u.jsx("div",{className:"card",style:{marginTop:16,background:"linear-gradient(135deg, rgba(251, 191, 36, 0.08), rgba(245, 158, 11, 0.05))",border:"1px solid rgba(251, 191, 36, 0.2)"},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"4px 0"},children:[u.jsx("span",{style:{fontSize:24},children:""}),u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{fontWeight:700,fontSize:14,color:"var(--warn)",marginBottom:2},children:"Read-Only Mode"}),u.jsxs("div",{className:"small",style:{opacity:.8},children:["Match editing is restricted to admins. ",u.jsx(Pe,{to:"/admin",style:{color:"var(--warn)",textDecoration:"underline",fontWeight:600},children:"Login as admin"})," to edit scores."]})]}),u.jsx("span",{className:"badge warn",style:{background:"rgba(251, 191, 36, 0.15)",border:"1px solid rgba(251, 191, 36, 0.3)"},children:" VIEW ONLY"})]})}),u.jsx("div",{className:"card",style:{marginTop:16},children:u.jsxs("div",{className:"toolbar",children:[u.jsx("div",{className:"small",style:{fontWeight:700},children:"Filter by group:"}),u.jsxs("div",{className:"filter-pills",children:[u.jsx("button",{className:`filter-pill ${n==="ALL"?"active":""}`,onClick:()=>r("ALL"),children:"All Groups"}),i.map(y=>u.jsxs("button",{className:`filter-pill ${n===y?"active":""}`,onClick:()=>r(y),children:["Group ",y]},y))]})]})}),u.jsx("div",{className:"card rules-card",style:{marginTop:16},children:u.jsxs("div",{style:{display:"flex",gap:16,alignItems:"flex-start",flexWrap:"wrap"},children:[u.jsx("span",{style:{fontSize:24},children:""}),u.jsxs("div",{className:"small",style:{lineHeight:1.6},children:[u.jsx("strong",{style:{color:"var(--text)"},children:"Best-of-3 Series Rules:"})," ","First to win 2 games advances. Winner of"," ",u.jsx("span",{className:"kbd",children:"2-0"})," gets"," ",u.jsx("strong",{children:"3 pts"}),", winner of"," ",u.jsx("span",{className:"kbd",children:"2-1"})," gets"," ",u.jsx("strong",{children:"2 pts"})," (loser gets"," ",u.jsx("strong",{children:"1 pt"}),")."]})]})}),u.jsx("div",{className:"bracket",style:{marginTop:16},children:o.length===0?u.jsx("div",{className:"card",children:u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"icon",children:""}),u.jsx("h3",{children:"No Matches Found"}),u.jsx("p",{children:n!=="ALL"?`No matches in Group ${n}. Try a different filter.`:"No matches available yet."})]})}):o.map(y=>{const{homeName:v,awayName:_}=_E(t.players,y);return u.jsx(CE,{match:y,homeName:v,awayName:_,onChange:h,readOnly:!s},y.id)})}),u.jsx(ti,{})]})}function Yl(t,e){return(t==null?void 0:t.group)&&(e==null?void 0:e.group)&&t.group===e.group}function TE(t){const e=t.slice().sort((r,s)=>r.seed-s.seed);let n=[[e[0],e[7]],[e[1],e[6]],[e[2],e[5]],[e[3],e[4]]];for(let r=0;r<n.length;r++)if(Yl(n[r][0],n[r][1]))for(let s=r+1;s<n.length;s++){const i=n[r][0],o=n[r][1],l=n[s][0],a=n[s][1];if(!Yl(i,a)&&!Yl(l,o)){n[r][1]=a,n[s][1]=o;break}}return n.map((r,s)=>({id:`QF${s+1}`,round:"QF",homeId:r[0].id,awayId:r[1].id,homeName:r[0].name,awayName:r[1].name,homeSeed:r[0].seed,awaySeed:r[1].seed,homeGroup:r[0].group,awayGroup:r[1].group,homeScore:null,awayScore:null,played:!1}))}function IE({qf:t,onUpdate:e,readOnly:n=!1}){function r(s,i){if(n)return;const o=t.slice();o[s]={...o[s],...i},e(o)}return u.jsxs("div",{className:"ko-bracket-section",children:[u.jsxs("div",{className:"section-title",style:{marginTop:16},children:[u.jsx("span",{className:"icon",children:""}),"Quarterfinals (Last 8)"]}),u.jsx("div",{className:"ko-bracket-grid",children:t.map((s,i)=>{const o=s.homeScore!==null&&s.awayScore!==null&&s.homeScore>s.awayScore,l=s.homeScore!==null&&s.awayScore!==null&&s.awayScore>s.homeScore;return u.jsxs("div",{className:"ko-matchcard",style:{animationDelay:`${i*.08}s`,...s.played?{borderColor:"rgba(52, 211, 153, 0.2)"}:{}},children:[u.jsxs("div",{className:"ko-matchcard-header",children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[u.jsx("strong",{style:{fontSize:15,fontFamily:"var(--font-heading)"},children:s.id}),u.jsxs("span",{className:"badge accent",style:{fontSize:10},children:["Seed ",s.homeSeed," vs ",s.awaySeed]}),s.played&&u.jsx("span",{className:"match-status played",children:" Complete"})]}),u.jsxs("label",{className:"small",style:{display:"flex",gap:8,alignItems:"center",cursor:n?"not-allowed":"pointer",opacity:n?.6:1},children:[u.jsx("input",{type:"checkbox",checked:!!s.played,onChange:a=>r(i,{played:a.target.checked}),disabled:n}),u.jsx("span",{style:{fontWeight:600},children:"Played"})]})]}),u.jsxs("div",{className:"ko-matchcard-body",children:[u.jsxs("div",{className:`ko-team-row ${o?"winner-row":""}`,children:[u.jsxs("div",{className:"ko-team-info",children:[u.jsxs("span",{className:"ko-seed",children:["#",s.homeSeed]}),u.jsxs("span",{className:"ko-team-name",children:[o&&" ",s.homeName]})]}),u.jsx("input",{className:"ko-score-input",inputMode:"numeric",min:0,max:2,value:s.homeScore??"",placeholder:"",onChange:a=>r(i,{homeScore:a.target.value===""?null:Number(a.target.value)}),disabled:n,style:{cursor:n?"not-allowed":"text",opacity:n?.7:1}})]}),u.jsx("div",{style:{textAlign:"center",padding:"4px 0",fontSize:11,fontWeight:800,color:"var(--muted)",letterSpacing:"0.15em",background:"rgba(0, 0, 0, 0.1)"},children:"VS"}),u.jsxs("div",{className:`ko-team-row ${l?"winner-row":""}`,children:[u.jsxs("div",{className:"ko-team-info",children:[u.jsxs("span",{className:"ko-seed",children:["#",s.awaySeed]}),u.jsxs("span",{className:"ko-team-name",children:[l&&" ",s.awayName]})]}),u.jsx("input",{className:"ko-score-input",inputMode:"numeric",min:0,max:2,value:s.awayScore??"",placeholder:"",onChange:a=>r(i,{awayScore:a.target.value===""?null:Number(a.target.value)}),disabled:n,style:{cursor:n?"not-allowed":"text",opacity:n?.7:1}})]})]}),s.played&&(o||l)&&u.jsx("div",{className:"ko-winner-banner",children:u.jsxs("span",{className:"winner-tag",children:[" ",o?s.homeName:s.awayName," advances"]})})]},s.id)})})]})}function PE(){var d,f,y,v,_,x;const{state:t,updateState:e}=Dr(),n=Hc(),r=S.useMemo(()=>Wc(t.players,t.matches),[t.players,t.matches]),s=S.useMemo(()=>Ey(r),[r]),i=s.seeded.length===8;function o(){if(!i)return;const m=TE(s.seeded);e(p=>({...p,knockout:{...p.knockout,qf:m}}))}function l(m){e(p=>({...p,knockout:{...p.knockout,qf:m}}))}function a(){e(m=>({...m,knockout:{...m.knockout,qf:[]}}))}const c=(((d=t.knockout)==null?void 0:d.qf)||[]).filter(m=>m.played).length,h=(((f=t.knockout)==null?void 0:f.qf)||[]).length;return u.jsxs("div",{className:"container fade-in",children:[u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"toolbar",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Knockout Stage"}),u.jsx("div",{className:"sub",children:"Last 8 (Quarterfinals) generated from the qualified 8 seeding."})]}),u.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center",flexWrap:"wrap"},children:[h>0&&u.jsxs("span",{className:"badge accent",children:[c,"/",h," Complete"]}),n&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn success",onClick:o,disabled:!i,children:" Generate Bracket"}),((v=(y=t.knockout)==null?void 0:y.qf)==null?void 0:v.length)>0&&u.jsx("button",{className:"btn danger",onClick:a,children:" Clear"})]})]})]}),!i&&u.jsxs("div",{className:"small",style:{marginTop:10,padding:"10px 14px",borderRadius:10,background:"rgba(251, 191, 36, 0.06)",border:"1px solid rgba(251, 191, 36, 0.15)"},children:[" Need ",u.jsx("strong",{children:"8 qualifiers"})," to generate the bracket. Currently ",s.seeded.length,"/8  finish group stage results first."]})]}),n?u.jsx("div",{className:"card",style:{marginTop:16,background:"linear-gradient(135deg, rgba(34, 197, 94, 0.08), rgba(16, 185, 129, 0.05))",border:"1px solid rgba(34, 197, 94, 0.2)"},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"4px 0"},children:[u.jsx("span",{style:{fontSize:24},children:""}),u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{fontWeight:700,fontSize:14,color:"var(--good)",marginBottom:2},children:"Admin Access Granted"}),u.jsx("div",{className:"small",style:{opacity:.8},children:"You can generate brackets, edit match scores, and manage the knockout stage."})]}),u.jsx("span",{className:"badge good",style:{background:"rgba(34, 197, 94, 0.15)",border:"1px solid rgba(34, 197, 94, 0.3)"},children:" ADMIN"})]})}):u.jsx("div",{className:"card",style:{marginTop:16,background:"linear-gradient(135deg, rgba(251, 191, 36, 0.08), rgba(245, 158, 11, 0.05))",border:"1px solid rgba(251, 191, 36, 0.2)"},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"4px 0"},children:[u.jsx("span",{style:{fontSize:24},children:""}),u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{fontWeight:700,fontSize:14,color:"var(--warn)",marginBottom:2},children:"Read-Only Mode"}),u.jsxs("div",{className:"small",style:{opacity:.8},children:["Bracket management is restricted to admins. ",u.jsx(Pe,{to:"/admin",style:{color:"var(--warn)",textDecoration:"underline",fontWeight:600},children:"Login as admin"})," to edit."]})]}),u.jsx("span",{className:"badge warn",style:{background:"rgba(251, 191, 36, 0.15)",border:"1px solid rgba(251, 191, 36, 0.3)"},children:" VIEW ONLY"})]})}),((x=(_=t.knockout)==null?void 0:_.qf)==null?void 0:x.length)>0?u.jsx(IE,{qf:t.knockout.qf,onUpdate:l,readOnly:!n}):u.jsx("div",{className:"card",style:{marginTop:16},children:u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"icon",children:""}),u.jsx("h3",{children:"No Bracket Generated"}),u.jsxs("p",{children:["Finish group stage results, then click"," ",u.jsx("strong",{children:"Generate Bracket"})," above."]})]})}),u.jsxs("div",{className:"card",style:{marginTop:16},children:[u.jsxs("div",{className:"toolbar",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Qualified 8 (Seeding)"}),u.jsx("div",{className:"sub",children:"This seeding order drives bracket generation (1v8, 2v7, 3v6, 4v5)."})]}),u.jsxs("span",{className:"badge accent",children:[s.seeded.length,"/8 Players"]})]}),s.seeded.length>0?u.jsx("div",{className:"table-wrap",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{width:"8%"},children:"Seed"}),u.jsx("th",{style:{width:"35%"},children:"Player"}),u.jsx("th",{children:"Group"}),u.jsx("th",{children:"PTS"}),u.jsx("th",{children:"GD"}),u.jsx("th",{children:"GF"}),u.jsx("th",{children:"Match"})]})}),u.jsx("tbody",{children:s.seeded.map(m=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsxs("span",{className:"badge good",children:["#",m.seed]})}),u.jsx("td",{children:u.jsxs("span",{className:"rowtag",children:[an(m.name)&&u.jsx("img",{src:an(m.name),alt:m.name}),u.jsx("strong",{children:m.name})]})}),u.jsx("td",{children:u.jsxs("span",{className:"badge",children:["Group ",m.group]})}),u.jsx("td",{children:u.jsx("strong",{children:m.PTS})}),u.jsxs("td",{style:{color:m.GD>0?"var(--good)":m.GD<0?"var(--bad)":"var(--muted)"},children:[m.GD>0?"+":"",m.GD]}),u.jsx("td",{children:m.GF}),u.jsxs("td",{className:"small",children:["vs #",9-m.seed]})]},m.id))})]})}):u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"icon",children:""}),u.jsx("h3",{children:"No Qualifiers Yet"}),u.jsx("p",{children:"Complete group stage matches to determine the qualified 8."})]})]}),u.jsx(ti,{})]})}function RE(){var P,R,U,A,xe;const{state:t,updateState:e,reset:n}=Dr(),[r,s]=S.useState(((P=t.tournament)==null?void 0:P.name)||""),[i,o]=S.useState(((R=t.tournament)==null?void 0:R.season)||""),[l,a]=S.useState(((U=t.tournament)==null?void 0:U.tagline)||""),[c,h]=S.useState(""),[d,f]=S.useState("ALL"),[y,v]=S.useState(!1),[_,x]=S.useState(!1);function m(){e(ce=>({...ce,tournament:{...ce.tournament,name:r,season:i,tagline:l}})),v(!0),setTimeout(()=>v(!1),2e3)}function p(ce,Te){e(Dt=>({...Dt,players:Dt.players.map(Lt=>Lt.id===ce?{...Lt,...Te}:Lt)}))}function g(){if(!_){x(!0);return}n(),s("eFootball Tournament"),o("Spring 2026"),a("Legends Start Here"),x(!1)}const w=S.useMemo(()=>{const ce=c.trim().toLowerCase();return t.players.filter(Te=>d==="ALL"?!0:Te.group===d).filter(Te=>ce?Te.name.toLowerCase().includes(ce)||Te.id.toLowerCase().includes(ce):!0)},[t.players,c,d]),E=((A=t.matches)==null?void 0:A.filter(ce=>ce.played).length)||0,k=((xe=t.matches)==null?void 0:xe.length)||0;return u.jsx(NE,{children:({onLogout:ce})=>{var Te,Dt,Lt;return u.jsxs("div",{className:"container fade-in",children:[u.jsx("div",{className:"card",children:u.jsxs("div",{className:"toolbar",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Admin Panel"}),u.jsx("div",{className:"sub",children:"Edit tournament settings and players. All changes save to your browser."})]}),u.jsxs("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:[u.jsx("button",{className:"btn success",onClick:m,children:y?" Saved!":" Save Changes"}),u.jsx("button",{className:`btn ${_?"danger":"ghost"}`,onClick:g,children:_?" Confirm Reset?":" Reset Template"}),u.jsx("button",{className:"btn danger",onClick:ce,title:"Logout from admin",children:" Logout"}),_&&u.jsx("button",{className:"btn ghost",onClick:()=>x(!1),children:"Cancel"})]})]})}),u.jsxs("div",{className:"grid",style:{marginTop:16},children:[u.jsxs("div",{className:"card span4",style:{textAlign:"center",padding:20},children:[u.jsx("div",{style:{fontSize:28,marginBottom:4},children:""}),u.jsx("div",{style:{fontSize:24,fontWeight:900,color:"var(--accent)"},children:((Te=t.players)==null?void 0:Te.length)||0}),u.jsx("div",{className:"small",children:"Players"})]}),u.jsxs("div",{className:"card span4",style:{textAlign:"center",padding:20},children:[u.jsx("div",{style:{fontSize:28,marginBottom:4},children:""}),u.jsxs("div",{style:{fontSize:24,fontWeight:900,color:"var(--accent)"},children:[E,"/",k]}),u.jsx("div",{className:"small",children:"Matches Played"})]}),u.jsxs("div",{className:"card span4",style:{textAlign:"center",padding:20},children:[u.jsx("div",{style:{fontSize:28,marginBottom:4},children:""}),u.jsx("div",{style:{fontSize:24,fontWeight:900,color:"var(--accent)"},children:((Lt=(Dt=t.knockout)==null?void 0:Dt.qf)==null?void 0:Lt.length)||0}),u.jsx("div",{className:"small",children:"Bracket Matches"})]})]}),u.jsxs("div",{className:"card",style:{marginTop:16},children:[u.jsx("h2",{children:" Tournament Settings"}),u.jsx("div",{className:"hr"}),u.jsxs("div",{className:"grid",style:{alignItems:"end"},children:[u.jsxs("div",{className:"span6",children:[u.jsx("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Tournament Name"}),u.jsx("input",{className:"input",value:r,onChange:ye=>s(ye.target.value),placeholder:"Tournament name"})]}),u.jsxs("div",{className:"span6",children:[u.jsx("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Season / Subtitle"}),u.jsx("input",{className:"input",value:i,onChange:ye=>o(ye.target.value),placeholder:"Season subtitle"})]}),u.jsxs("div",{className:"span12",children:[u.jsx("div",{className:"small",style:{fontWeight:700,marginBottom:6},children:"Tagline"}),u.jsx("input",{className:"input",value:l,onChange:ye=>a(ye.target.value),placeholder:"Homepage tagline"})]})]}),u.jsx("div",{className:"rules-card",style:{marginTop:16,padding:14,borderRadius:12},children:u.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-start"},children:[u.jsx("span",{style:{fontSize:20},children:""}),u.jsxs("div",{className:"small",style:{lineHeight:1.6},children:[u.jsx("strong",{style:{color:"var(--text)"},children:"Points Rule:"})," ","Win 2-0 = 3 pts, Win 2-1 = 2 pts (loser gets 1 pt). Tiebreakers:"," ",u.jsx("span",{className:"kbd",children:"PTS  GD  GF"})]})]})})]}),u.jsxs("div",{className:"card",style:{marginTop:16},children:[u.jsxs("div",{className:"toolbar",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Players"}),u.jsx("div",{className:"sub",children:"Rename players (IDs are fixed: A1..A4, B1..B4, C1..C4)."})]}),u.jsxs("div",{style:{display:"flex",gap:10,flexWrap:"wrap",alignItems:"center"},children:[u.jsx("input",{className:"input",style:{width:200,maxWidth:"100%"},value:c,onChange:ye=>h(ye.target.value),placeholder:" Search name or ID"}),u.jsxs("div",{className:"filter-pills",children:[u.jsx("button",{className:`filter-pill ${d==="ALL"?"active":""}`,onClick:()=>f("ALL"),children:"All"}),u.jsx("button",{className:`filter-pill ${d==="A"?"active":""}`,onClick:()=>f("A"),children:"A"}),u.jsx("button",{className:`filter-pill ${d==="B"?"active":""}`,onClick:()=>f("B"),children:"B"}),u.jsx("button",{className:`filter-pill ${d==="C"?"active":""}`,onClick:()=>f("C"),children:"C"})]})]})]}),u.jsx("div",{className:"hr"}),u.jsx("div",{className:"table-wrap",children:u.jsxs("table",{className:"table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{width:"15%"},children:"ID"}),u.jsx("th",{style:{width:"15%"},children:"Group"}),u.jsx("th",{children:"Player Name"})]})}),u.jsx("tbody",{children:w.map(ye=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("span",{className:"badge accent",children:u.jsx("strong",{children:ye.id})})}),u.jsx("td",{children:u.jsxs("span",{className:"badge",children:["Group ",ye.group]})}),u.jsx("td",{children:u.jsx("input",{className:"input",value:ye.name,onChange:Lr=>p(ye.id,{name:Lr.target.value}),placeholder:"Player name",style:{maxWidth:300}})})]},ye.id))})]})}),w.length===0&&u.jsxs("div",{className:"empty-state",style:{padding:24},children:[u.jsx("div",{className:"icon",children:""}),u.jsx("h3",{children:"No Players Found"}),u.jsx("p",{children:"No players match your current filter."})]})]}),u.jsx(ti,{})]})}})}const jE=[{to:"/",label:"Home",icon:"",end:!0},{to:"/standings",label:"Standings",icon:""},{to:"/matches",label:"Matches",icon:""},{to:"/knockout",label:"Knockout",icon:""},{to:"/admin",label:"Admin",icon:""}];function AE(){const{isLoading:t,usingFirebase:e}=Dr(),[n,r]=S.useState(()=>localStorage.getItem("theme")||"dark"),[s,i]=S.useState(!1),o=S.useRef(null),l=Tr();S.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n)},[n]),S.useEffect(()=>{i(!1)},[l]),S.useEffect(()=>{function c(h){o.current&&!o.current.contains(h.target)&&i(!1)}if(s)return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[s]),S.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]);const a=()=>r(c=>c==="dark"?"light":"dark");return u.jsxs(u.Fragment,{children:[u.jsxs("nav",{className:"nav",role:"navigation","aria-label":"Main navigation",ref:o,children:[u.jsxs("div",{className:"brand",children:[u.jsx("img",{src:Uc,alt:"Logo",className:"brand-logo"}),"Pallet Pes Tour"]}),u.jsxs("button",{className:"hamburger",onClick:()=>i(c=>!c),"aria-label":"Toggle navigation","aria-expanded":s,children:[u.jsx("span",{className:`hamburger-bar ${s?"open":""}`}),u.jsx("span",{className:`hamburger-bar ${s?"open":""}`}),u.jsx("span",{className:`hamburger-bar ${s?"open":""}`})]}),s&&u.jsx("div",{className:"nav-overlay",onClick:()=>i(!1)}),u.jsxs("div",{className:`navlinks ${s?"navlinks-open":""}`,children:[jE.map(c=>u.jsxs(n1,{to:c.to,end:c.end,className:({isActive:h})=>"pill"+(h?" active":""),onClick:()=>i(!1),children:[u.jsx("span",{className:"nav-icon",children:c.icon}),c.label]},c.to)),e&&u.jsxs("div",{className:"pill",style:{cursor:"default",background:"rgba(52, 211, 153, 0.1)",border:"1px solid var(--good)",color:"var(--good)",fontSize:"11px",padding:"6px 10px"},title:"Real-time sync enabled via Firebase",children:[u.jsx("span",{style:{marginRight:4},children:""}),"Live Sync"]}),u.jsx("button",{className:"pill theme-toggle",onClick:a,title:`Switch to ${n==="dark"?"light":"dark"} mode`,"aria-label":"Toggle theme",children:u.jsx("span",{className:"theme-icon",children:n==="dark"?"":""})})]})]}),t&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,background:"var(--accent)",color:"white",padding:"8px",textAlign:"center",fontSize:"13px",zIndex:9999},children:" Loading tournament data from Firebase..."}),u.jsx("main",{className:"page-transition",children:u.jsxs(H0,{children:[u.jsx(Un,{path:"/",element:u.jsx(wE,{})}),u.jsx(Un,{path:"/standings",element:u.jsx(SE,{})}),u.jsx(Un,{path:"/matches",element:u.jsx(kE,{})}),u.jsx(Un,{path:"/knockout",element:u.jsx(PE,{})}),u.jsx(Un,{path:"/admin",element:u.jsx(RE,{})})]})},l.pathname)]})}ql.createRoot(document.getElementById("root")).render(u.jsx(If.StrictMode,{children:u.jsx(Z0,{children:u.jsx(fE,{children:u.jsx(AE,{})})})}));
